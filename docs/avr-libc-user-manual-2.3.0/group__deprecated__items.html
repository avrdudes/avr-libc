<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<title>AVR-LibC: &lt;compat/deprecated.h&gt;: Deprecated items</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="dox.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AVR-LibC
   &#160;<span id="projectnumber">2.3.0git</span>
   </div>
   <div id="projectbrief">Standard C library for AVR-GCC</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table>
  <tr>
    <td align="left"><a href="https://avrdudes.github.io/avr-libc/"><h2>AVR-LibC Documen&shy;tation</h2></a></td>
    <td align="center" colspan=4>
      <div class="logo"><img src="avr-libc-logo.png" alt="Logo" align="middle" border="0"></div>
      <div class="invlogo"><img src="avr-libc-logo-inverted.png" alt="Logo" align="middle" border="0"></div>
    </td>
    <td align="right" colspan=2><a href="https://github.com/avrdudes/avr-libc/"><h2>AVR-LibC Development Pages</h2></a></td>
  </tr>
  <tr>
    <td align="center" width="15%"><a href="index.html"><h2>Main Page</h2></a></td>
    <td align="center" width="15%"><a href="pages.html"><h2>User Manual</h2></a></td>
    <td align="center" width="15%"><a href="modules.html"><h2>Library Refe&shy;rence</h2></a></td>
    <td align="center" width="8%"><a href="FAQ.html"><h2>FAQ</h2></a></td>
    <td align="center" width="15%"><a href="group__demos.html"><h2>Example Projects</h2></a></td>
    <td align="center" width="8%"><a href="files.html"><h2>File List</h2></a></td>
    <td align="center" width="8%"><a href="Global_01Index.html"><h2>Index</h2></a></td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">&lt;compat/deprecated.h&gt;: Deprecated items</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Allowing specific system-wide interrupts</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>In addition to globally enabling interrupts, each device's particular interrupt needs to be enabled separately if interrupts for this device are desired. While some devices maintain their interrupt enable bit inside the device's register set, external and timer interrupts have system-wide configuration registers.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="comment">// Enable timer 1 overflow interrupts.</span></div>
<div class="line"><a class="code hl_function" href="group__deprecated__items.html#gac76f82fd247e7a0a3707a69f0b102270">timer_enable_int</a>(<a class="code hl_define" href="group__avr__sfr.html#ga11643f271076024c395a93800b3d9546">_BV</a>(TOIE1));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Do some work...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Disable all timer interrupts.</span></div>
<div class="line"><a class="code hl_function" href="group__deprecated__items.html#gac76f82fd247e7a0a3707a69f0b102270">timer_enable_int</a>(0);</div>
<div class="ttc" id="agroup__avr__sfr_html_ga11643f271076024c395a93800b3d9546"><div class="ttname"><a href="group__avr__sfr.html#ga11643f271076024c395a93800b3d9546">_BV</a></div><div class="ttdeci">#define _BV(bit)</div><div class="ttdef"><b>Definition:</b> sfr_defs.h:206</div></div>
<div class="ttc" id="agroup__deprecated__items_html_gac76f82fd247e7a0a3707a69f0b102270"><div class="ttname"><a href="group__deprecated__items.html#gac76f82fd247e7a0a3707a69f0b102270">timer_enable_int</a></div><div class="ttdeci">static void timer_enable_int(unsigned char ints)</div><div class="ttdef"><b>Definition:</b> deprecated.h:105</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Be careful when you use these functions. If you already have a different interrupt enabled, you could inadvertently disable it by enabling another interrupt. </dd></dl>
</td></tr>
<tr class="memitem:gac76f82fd247e7a0a3707a69f0b102270"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#gac76f82fd247e7a0a3707a69f0b102270">timer_enable_int</a> (unsigned char ints)</td></tr>
<tr class="separator:gac76f82fd247e7a0a3707a69f0b102270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a3fe82a7199e9e84f7be6a5f23127bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#ga9a3fe82a7199e9e84f7be6a5f23127bc">enable_external_int</a>(mask)&#160;&#160;&#160;(__EICR = mask)</td></tr>
<tr class="separator:ga9a3fe82a7199e9e84f7be6a5f23127bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0b2d3a87492967c01615f32f30d06d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#gaa0b2d3a87492967c01615f32f30d06d5">INTERRUPT</a>(signame)</td></tr>
<tr class="separator:gaa0b2d3a87492967c01615f32f30d06d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65483663c17f94d50d9e24e277bd7bbb"><td class="memItemLeft" align="right" valign="top"><a id="ga65483663c17f94d50d9e24e277bd7bbb" name="ga65483663c17f94d50d9e24e277bd7bbb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>__INTR_ATTRS</b>&#160;&#160;&#160;__used__</td></tr>
<tr class="separator:ga65483663c17f94d50d9e24e277bd7bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Obsolete IO macros</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Back in a time when AVR-GCC and AVR-LibC could not handle IO port access in the direct assignment form as they are handled now, all IO port access had to be done through specific macros that eventually resulted in inline assembly instructions performing the desired action.</p>
<p>These macros became obsolete, as reading and writing IO ports can be done by simply using the IO port name in an expression, and all bit manipulation (including those on IO ports) can be done using generic C bit manipulation operators.</p>
<p>The macros in this group simulate the historical behaviour. While they are supposed to be applied to IO ports, the emulation actually uses standard C methods, so they could be applied to arbitrary memory locations as well. </p>
</td></tr>
<tr class="memitem:ga5cfa4750a0633c34c7a361d8fd62c042"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#ga5cfa4750a0633c34c7a361d8fd62c042">inp</a>(port)&#160;&#160;&#160;(port)</td></tr>
<tr class="separator:ga5cfa4750a0633c34c7a361d8fd62c042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab324bd721e821e275f00c3478e240c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#gaab324bd721e821e275f00c3478e240c9">outp</a>(val,  port)&#160;&#160;&#160;(port) = (val)</td></tr>
<tr class="separator:gaab324bd721e821e275f00c3478e240c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6488a48837d179b1833e2f48dac9665"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#gad6488a48837d179b1833e2f48dac9665">inb</a>(port)&#160;&#160;&#160;(port)</td></tr>
<tr class="separator:gad6488a48837d179b1833e2f48dac9665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a3b4c1ddf0c05701f933d70de330f08"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#ga3a3b4c1ddf0c05701f933d70de330f08">outb</a>(port,  val)&#160;&#160;&#160;(port) = (val)</td></tr>
<tr class="separator:ga3a3b4c1ddf0c05701f933d70de330f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga014ef751e83f97569c06f3cdd888f3f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#ga014ef751e83f97569c06f3cdd888f3f7">sbi</a>(port,  bit)&#160;&#160;&#160;(port) |= (1 &lt;&lt; (bit))</td></tr>
<tr class="separator:ga014ef751e83f97569c06f3cdd888f3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08ee265dc07048dbb5a8b6c84551d520"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__deprecated__items.html#ga08ee265dc07048dbb5a8b6c84551d520">cbi</a>(port,  bit)&#160;&#160;&#160;(port) &amp;= ~(1 &lt;&lt; (bit))</td></tr>
<tr class="separator:ga08ee265dc07048dbb5a8b6c84551d520"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This header file contains several items that used to be available in previous versions of this library, but have eventually been deprecated over time.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;compat/deprecated.h&gt;</span> </div>
</div><!-- fragment --><p>These items are supplied within that header file for backward compatibility reasons only, so old source code that has been written for previous library versions could easily be maintained until its end-of-life. Use of any of these items in new code is strongly discouraged. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga08ee265dc07048dbb5a8b6c84551d520" name="ga08ee265dc07048dbb5a8b6c84551d520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08ee265dc07048dbb5a8b6c84551d520">&#9670;&#160;</a></span>cbi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cbi</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bit&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(port) &amp;= ~(1 &lt;&lt; (bit))</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000011">Deprecated:</a></b></dt><dd></dd></dl>
<p>Clear <code>bit</code> in IO port <code>port</code>. </p>

</div>
</div>
<a id="ga9a3fe82a7199e9e84f7be6a5f23127bc" name="ga9a3fe82a7199e9e84f7be6a5f23127bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a3fe82a7199e9e84f7be6a5f23127bc">&#9670;&#160;</a></span>enable_external_int</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define enable_external_int</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mask</td><td>)</td>
          <td>&#160;&#160;&#160;(__EICR = mask)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<p>This macro gives access to the <code>GIMSK</code> register (or <code>EIMSK</code> register if using an AVR Mega device or <code>GICR</code> register for others). Although this macro is essentially the same as assigning to the register, it does adapt slightly to the type of device being used. This macro is unavailable if none of the registers listed above are defined. </p>

</div>
</div>
<a id="gad6488a48837d179b1833e2f48dac9665" name="gad6488a48837d179b1833e2f48dac9665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6488a48837d179b1833e2f48dac9665">&#9670;&#160;</a></span>inb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define inb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port</td><td>)</td>
          <td>&#160;&#160;&#160;(port)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000008">Deprecated:</a></b></dt><dd></dd></dl>
<p>Read a value from an IO port <code>port</code>. </p>

</div>
</div>
<a id="ga5cfa4750a0633c34c7a361d8fd62c042" name="ga5cfa4750a0633c34c7a361d8fd62c042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5cfa4750a0633c34c7a361d8fd62c042">&#9670;&#160;</a></span>inp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define inp</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port</td><td>)</td>
          <td>&#160;&#160;&#160;(port)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated:</a></b></dt><dd></dd></dl>
<p>Read a value from an IO port <code>port</code>. </p>

</div>
</div>
<a id="gaa0b2d3a87492967c01615f32f30d06d5" name="gaa0b2d3a87492967c01615f32f30d06d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0b2d3a87492967c01615f32f30d06d5">&#9670;&#160;</a></span>INTERRUPT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INTERRUPT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signame</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordtype">void</span> signame (<span class="keywordtype">void</span>) __attribute__ ((__interrupt__,__INTR_ATTRS));   \</div>
<div class="line"><span class="keywordtype">void</span> signame (<span class="keywordtype">void</span>)</div>
</div><!-- fragment --><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd></dd></dl>
<p>Introduces an interrupt handler function that runs with global interrupts initially enabled. This allows interrupt handlers to be interrupted.</p>
<p>As this macro has been used by too many unsuspecting people in the past, it has been deprecated, and will be removed in a future version of the library. Users who want to legitimately re-enable interrupts in their interrupt handlers as quickly as possible are encouraged to explicitly declare their handlers as described <a class="el" href="group__avr__interrupts.html#attr_interrupt">above</a>. </p>

</div>
</div>
<a id="ga3a3b4c1ddf0c05701f933d70de330f08" name="ga3a3b4c1ddf0c05701f933d70de330f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a3b4c1ddf0c05701f933d70de330f08">&#9670;&#160;</a></span>outb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define outb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(port) = (val)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000009">Deprecated:</a></b></dt><dd></dd></dl>
<p>Write <code>val</code> to IO port <code>port</code>. </p>

</div>
</div>
<a id="gaab324bd721e821e275f00c3478e240c9" name="gaab324bd721e821e275f00c3478e240c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab324bd721e821e275f00c3478e240c9">&#9670;&#160;</a></span>outp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define outp</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(port) = (val)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated:</a></b></dt><dd></dd></dl>
<p>Write <code>val</code> to IO port <code>port</code>. </p>

</div>
</div>
<a id="ga014ef751e83f97569c06f3cdd888f3f7" name="ga014ef751e83f97569c06f3cdd888f3f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga014ef751e83f97569c06f3cdd888f3f7">&#9670;&#160;</a></span>sbi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sbi</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">port, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bit&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(port) |= (1 &lt;&lt; (bit))</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000010">Deprecated:</a></b></dt><dd></dd></dl>
<p>Set <code>bit</code> in IO port <code>port</code>. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac76f82fd247e7a0a3707a69f0b102270" name="gac76f82fd247e7a0a3707a69f0b102270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac76f82fd247e7a0a3707a69f0b102270">&#9670;&#160;</a></span>timer_enable_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timer_enable_int </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd></dd></dl>
<p>This function modifies the <code>timsk</code> register. The value you pass via <code>ints</code> is device specific. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 27 2025 18:32:02 for AVR-LibC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.6
</small></address>
</body>
</html>
