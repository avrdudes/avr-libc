<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<title>AVR-LibC: &lt;util/crc16.h&gt;: CRC Computations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="dox.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AVR-LibC
   &#160;<span id="projectnumber">2.3.0git</span>
   </div>
   <div id="projectbrief">Standard C library for AVR-GCC</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table>
  <tr>
    <td align="left"><a href="https://avrdudes.github.io/avr-libc/"><h2>AVR-LibC Documen&shy;tation</h2></a></td>
    <td align="center" colspan=4>
      <div class="logo"><img src="avr-libc-logo.png" alt="Logo" align="middle" border="0"></div>
      <div class="invlogo"><img src="avr-libc-logo-inverted.png" alt="Logo" align="middle" border="0"></div>
    </td>
    <td align="right" colspan=2><a href="https://github.com/avrdudes/avr-libc/"><h2>AVR-LibC Development Pages</h2></a></td>
  </tr>
  <tr>
    <td align="center" width="15%"><a href="index.html"><h2>Main Page</h2></a></td>
    <td align="center" width="15%"><a href="pages.html"><h2>User Manual</h2></a></td>
    <td align="center" width="15%"><a href="modules.html"><h2>Library Refe&shy;rence</h2></a></td>
    <td align="center" width="8%"><a href="FAQ.html"><h2>FAQ</h2></a></td>
    <td align="center" width="15%"><a href="group__demos.html"><h2>Example Projects</h2></a></td>
    <td align="center" width="8%"><a href="files.html"><h2>File List</h2></a></td>
    <td align="center" width="8%"><a href="Global_01Index.html"><h2>Index</h2></a></td>
  </tr>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">&lt;util/crc16.h&gt;: CRC Computations</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf9aaf958ad7472bc92db0431e74ae7ed"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__util__crc.html#gaf9aaf958ad7472bc92db0431e74ae7ed">_crc16_update</a> (<a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> __crc, <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> __data)</td></tr>
<tr class="separator:gaf9aaf958ad7472bc92db0431e74ae7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08800c64d6547af20ba49fa6273cdea2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__util__crc.html#ga08800c64d6547af20ba49fa6273cdea2">_crc_xmodem_update</a> (<a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> __crc, <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> __data)</td></tr>
<tr class="separator:ga08800c64d6547af20ba49fa6273cdea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6ea4fc26dbe4bb6a7da4dd925dacb2a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__util__crc.html#gaa6ea4fc26dbe4bb6a7da4dd925dacb2a">_crc_ccitt_update</a> (<a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> __crc, <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> __data)</td></tr>
<tr class="separator:gaa6ea4fc26dbe4bb6a7da4dd925dacb2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf57583709847b86b060fa19fdfa1982e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__util__crc.html#gaf57583709847b86b060fa19fdfa1982e">_crc_ibutton_update</a> (<a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> __crc, <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> __data)</td></tr>
<tr class="separator:gaf57583709847b86b060fa19fdfa1982e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1e32c45f181b6ebfe8c62db61ffac2b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__util__crc.html#gac1e32c45f181b6ebfe8c62db61ffac2b">_crc8_ccitt_update</a> (<a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> __crc, <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> __data)</td></tr>
<tr class="separator:gac1e32c45f181b6ebfe8c62db61ffac2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="crc16_8h.html">util/crc16.h</a>&gt;</span></div>
<div class="ttc" id="acrc16_8h_html"><div class="ttname"><a href="crc16_8h.html">crc16.h</a></div></div>
</div><!-- fragment --><p>This header file provides optimized inline functions for calculating cyclic redundancy checks (CRC) using common polynomials.</p>
<p>A typical application would look like:</p>
<div class="fragment"><div class="line"><span class="comment">// Dallas iButton test vector.</span></div>
<div class="line"><a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> serno[] = { 0x02, 0x1c, 0xb8, 0x01, 0, 0, 0, 0xa2 };</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">checkcrc (<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> crc = 0, i;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span> serno / <span class="keyword">sizeof</span> serno[0]; i++)</div>
<div class="line">        crc = <a class="code hl_function" href="group__util__crc.html#gaf57583709847b86b060fa19fdfa1982e">_crc_ibutton_update</a> (crc, serno[i]);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> crc; <span class="comment">// must be 0</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__avr__stdint_html_gaba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition:</b> stdint.h:81</div></div>
<div class="ttc" id="agroup__util__crc_html_gaf57583709847b86b060fa19fdfa1982e"><div class="ttname"><a href="group__util__crc.html#gaf57583709847b86b060fa19fdfa1982e">_crc_ibutton_update</a></div><div class="ttdeci">static uint8_t _crc_ibutton_update(uint8_t __crc, uint8_t __data)</div><div class="ttdef"><b>Definition:</b> crc16.h:296</div></div>
</div><!-- fragment --><dl class="section user"><dt>References:</dt><dd>See the Dallas Semiconductor app note 27 for 8051 assembler example and general CRC optimization suggestions. The table on the last page of the app note is the key to understanding these implementations. </dd></dl>
<dl class="section user"><dt></dt><dd>Jack Crenshaw's "Implementing CRCs" article in the January 1992 issue of <em>Embedded</em> <em>Systems</em> <em>Programming</em>. This may be difficult to find, but it explains CRC's in very clear and concise terms. Well worth the effort to obtain a copy. </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf9aaf958ad7472bc92db0431e74ae7ed" name="gaf9aaf958ad7472bc92db0431e74ae7ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9aaf958ad7472bc92db0431e74ae7ed">&#9670;&#160;</a></span>_crc16_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> _crc16_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>__crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>__data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optimized CRC-16 calculation.</p>
<p>Polynomial: x<sup>16</sup> + x<sup>15</sup> + x<sup>2</sup> + 1 (0xa001)<br  />
 Initial value: <code>0xffff</code> </p>
<p>This CRC is normally used in disk-drive controllers.</p>
<p>The following is the equivalent functionality written in C.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></div>
<div class="line"><a class="code hl_function" href="group__util__crc.html#gaf9aaf958ad7472bc92db0431e74ae7ed">_crc16_update</a> (<a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> crc, <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> a)</div>
<div class="line">{</div>
<div class="line">    crc ^= a;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (crc &amp; 1)</div>
<div class="line">            crc = (crc &gt;&gt; 1) ^ 0xA001;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            crc = crc &gt;&gt; 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> crc;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__avr__stdint_html_ga1f1825b69244eb3ad2c7165ddc99c956"><div class="ttname"><a href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></div><div class="ttdeci">unsigned int uint16_t</div><div class="ttdef"><b>Definition:</b> stdint.h:91</div></div>
<div class="ttc" id="agroup__util__crc_html_gaf9aaf958ad7472bc92db0431e74ae7ed"><div class="ttname"><a href="group__util__crc.html#gaf9aaf958ad7472bc92db0431e74ae7ed">_crc16_update</a></div><div class="ttdeci">static uint16_t _crc16_update(uint16_t __crc, uint8_t __data)</div><div class="ttdef"><b>Definition:</b> crc16.h:104</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="gac1e32c45f181b6ebfe8c62db61ffac2b" name="gac1e32c45f181b6ebfe8c62db61ffac2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1e32c45f181b6ebfe8c62db61ffac2b">&#9670;&#160;</a></span>_crc8_ccitt_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> _crc8_ccitt_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>__crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>__data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optimized CRC-8-CCITT calculation.</p>
<p>Polynomial: x<sup>8</sup> + x<sup>2</sup> + x + 1 (0xE0)<br  />
</p>
<p>For use with simple CRC-8<br  />
 Initial value: 0x0</p>
<p>For use with CRC-8-ROHC<br  />
 Initial value: 0xff<br  />
 Reference: <a href="http://tools.ietf.org/html/rfc3095#section-5.9.1">http://tools.ietf.org/html/rfc3095#section-5.9.1</a></p>
<p>For use with CRC-8-ATM/ITU<br  />
 Initial value: 0xff<br  />
 Final XOR value: 0x55<br  />
 Reference: <a href="http://www.itu.int/rec/T-REC-I.432.1-199902-I/en">http://www.itu.int/rec/T-REC-I.432.1-199902-I/en</a></p>
<p>The C equivalent has been originally written by Dave Hylands. Assembly code is based on <code>_crc_ibutton_update</code> optimization.</p>
<p>The following is the equivalent functionality written in C.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div>
<div class="line"><a class="code hl_function" href="group__util__crc.html#gac1e32c45f181b6ebfe8c62db61ffac2b">_crc8_ccitt_update</a> (<a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> inCrc, <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> inData)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data = inCrc ^ inData;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ((data &amp; 0x80) != 0)</div>
<div class="line">        {</div>
<div class="line">            data &lt;&lt;= 1;</div>
<div class="line">            data ^= 0x07;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            data &lt;&lt;= 1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> data;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__util__crc_html_gac1e32c45f181b6ebfe8c62db61ffac2b"><div class="ttname"><a href="group__util__crc.html#gac1e32c45f181b6ebfe8c62db61ffac2b">_crc8_ccitt_update</a></div><div class="ttdeci">static uint8_t _crc8_ccitt_update(uint8_t __crc, uint8_t __data)</div><div class="ttdef"><b>Definition:</b> crc16.h:359</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="gaa6ea4fc26dbe4bb6a7da4dd925dacb2a" name="gaa6ea4fc26dbe4bb6a7da4dd925dacb2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa6ea4fc26dbe4bb6a7da4dd925dacb2a">&#9670;&#160;</a></span>_crc_ccitt_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> _crc_ccitt_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>__crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>__data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optimized CRC-CCITT calculation.</p>
<p>Polynomial: x<sup>16</sup> + x<sup>12</sup> + x<sup>5</sup> + 1 (0x8408)<br  />
 Initial value: <code>0xffff</code> </p>
<p>This is the CRC used by PPP and IrDA.</p>
<p>See RFC1171 (PPP protocol) and IrDA IrLAP 1.1</p>
<dl class="section note"><dt>Note</dt><dd>Although the CCITT polynomial is the same as that used by the Xmodem protocol, they are quite different. The difference is in how the bits are shifted through the algorithm. Xmodem shifts the MSB of the CRC and the input first, while CCITT shifts the LSB of the CRC and the input first.</dd></dl>
<p>The following is the equivalent functionality written in C.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></div>
<div class="line"><a class="code hl_function" href="group__util__crc.html#gaa6ea4fc26dbe4bb6a7da4dd925dacb2a">_crc_ccitt_update</a> (<a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> crc, <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data)</div>
<div class="line">{</div>
<div class="line">    data ^= lo8 (crc);</div>
<div class="line">    data ^= data &lt;&lt; 4;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ((((<a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>)data &lt;&lt; 8) | hi8 (crc)) ^ (<a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)(data &gt;&gt; 4)</div>
<div class="line">            ^ ((<a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>)data &lt;&lt; 3));</div>
<div class="line">}</div>
<div class="ttc" id="agroup__util__crc_html_gaa6ea4fc26dbe4bb6a7da4dd925dacb2a"><div class="ttname"><a href="group__util__crc.html#gaa6ea4fc26dbe4bb6a7da4dd925dacb2a">_crc_ccitt_update</a></div><div class="ttdeci">static uint16_t _crc_ccitt_update(uint16_t __crc, uint8_t __data)</div><div class="ttdef"><b>Definition:</b> crc16.h:231</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="gaf57583709847b86b060fa19fdfa1982e" name="gaf57583709847b86b060fa19fdfa1982e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf57583709847b86b060fa19fdfa1982e">&#9670;&#160;</a></span>_crc_ibutton_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> _crc_ibutton_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>__crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>__data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optimized Dallas (now Maxim) iButton 8-bit CRC calculation.</p>
<p>Polynomial: x<sup>8</sup> + x<sup>5</sup> + x<sup>4</sup> + 1 (0x8C)<br  />
 Initial value: <code>0x0</code> </p>
<p>See <a href="http://www.maxim-ic.com/appnotes.cfm/appnote_number/27">http://www.maxim-ic.com/appnotes.cfm/appnote_number/27</a></p>
<p>The following is the equivalent functionality written in C.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div>
<div class="line"><a class="code hl_function" href="group__util__crc.html#gaf57583709847b86b060fa19fdfa1982e">_crc_ibutton_update</a> (<a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> crc, <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data)</div>
<div class="line">{</div>
<div class="line">    crc = crc ^ data;</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> i = 0; i &lt; 8; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (crc &amp; 0x01)</div>
<div class="line">            crc = (crc &gt;&gt; 1) ^ 0x8C;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            crc &gt;&gt;= 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> crc;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga08800c64d6547af20ba49fa6273cdea2" name="ga08800c64d6547af20ba49fa6273cdea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08800c64d6547af20ba49fa6273cdea2">&#9670;&#160;</a></span>_crc_xmodem_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> _crc_xmodem_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>__crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>__data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optimized CRC-XMODEM calculation.</p>
<p>Polynomial: x<sup>16</sup> + x<sup>12</sup> + x<sup>5</sup> + 1 (0x1021)<br  />
 Initial value: <code>0x0</code> </p>
<p>This is the CRC used by the Xmodem-CRC protocol.</p>
<p>The following is the equivalent functionality written in C.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></div>
<div class="line"><a class="code hl_function" href="group__util__crc.html#ga08800c64d6547af20ba49fa6273cdea2">_crc_xmodem_update</a> (<a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> crc, <a class="code hl_typedef" href="group__avr__stdint.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data)</div>
<div class="line">{</div>
<div class="line">    crc = crc ^ ((<a class="code hl_typedef" href="group__avr__stdint.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>)data &lt;&lt; 8);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (crc &amp; 0x8000)</div>
<div class="line">            crc = (crc &lt;&lt; 1) ^ 0x1021;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            crc &lt;&lt;= 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> crc;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__util__crc_html_ga08800c64d6547af20ba49fa6273cdea2"><div class="ttname"><a href="group__util__crc.html#ga08800c64d6547af20ba49fa6273cdea2">_crc_xmodem_update</a></div><div class="ttdeci">static uint16_t _crc_xmodem_update(uint16_t __crc, uint8_t __data)</div><div class="ttdef"><b>Definition:</b> crc16.h:168</div></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 27 2025 18:32:02 for AVR-LibC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.6
</small></address>
</body>
</html>
