2007-12-18  Eric B. Weddington  <eric.weddington@atmel.com>

	Fix for bug #21840.
	* include/avr/iom48p.h: Fix RAMEND.
	* include/avr/iom88p.h: Ditto.
	* include/avr/iom168p.h: Ditto.
	* include/avr/iom328p.h: Ditto.

2007-12-18  Dmitry Xmelkov  <dmix@gmail.ru>

	* include/alloca.h: Add '__' prefix with function args. To avoid
	a possible conflict with user's CPP definitions.

2007-12-17  Dmitry Xmelkov  <dmix@gmail.ru>

	Make abort() as a normal extern function (instead of inline loop).
	* libc/stdlib/abort.S: Rewrite.
	* include/stdlib.h: Declare abort() as a normal, add doc.

2007-12-16  Dmitry Xmelkov  <dmix@gmail.ru>

	* libc/stdlib/ctype.S:
	  . isalnum(): Optimize.
	  . isxdigit(): Correct a behaviour with nonzero high byte.
	  . iscntrl(): Fix bug [no-id]: iscntrl() return true for some
	  values from 0x80 to 0xff. Optimize a little.
	  . ispunct(): Optimize.
	  . tolower(): Return as is, if the input is not an unsigned char
	  value. Optimize.
	  . toupper(): Ditto.
	* include/ctype.h: Specify (and change) doc about the behaviour
	in case then the input is not an unsigned char value.
	* NEWS: Note about fixed bug of iscntrl().

2007-12-16  Dmitry Xmelkov  <dmix@gmail.ru>

	Fix bug #18994: minor optimization possible to stdlib functions
	isspace(), isprint(), and islower()
	* libc/stdlib/ctype.S: Optimize isspace(), isprint() and islower().
	* NEWS: Note about this.

2007-12-12  Eric B. Weddington  <eric.weddington@atmel.com>

	* include/avr/io90pwm216.h: Fix fuse data.
	* include/avr/io90pwm316.h: Ditto.

2007-12-12  Eric B. Weddington  <eric.weddington@atmel.com>

	* include/avr/iom32hvb.h: Remove unused register.
	* include/avr/io90pwm216.h: Fix IVT size. Fix for bug #21749.
	* include/avr/io90pwm316.h: Ditto.
	* include/avr/iomx8.h: Remove bits for mega48. Fix for bug #21691.
	* include/avr/io90pwm316.h: Add bit defs. Fix for bug #21743.
	* include/avr/iomxx0_1.h: Fix bit defs. Fix for bug #21626.
	* include/avr/iotnx61.h: Fix bit defs. Fix for bug #21521.

2007-12-11  Eric B. Weddington  <eric.weddington@atmel.com>

	* include/avr/lock.h: Add documentation for the Lockbit API.
	* doc/api/doxygen.config.in: Add avr/lock.h to the doc list.
	* include/avr/iom8.h: Add Fuse and Lockbit data.
	* include/avr/iotn43u.h: Add Lockbit data.
	* include/avr/io90pwm216.h: Add Lockbit data. Fix fuse data.
	* include/avr/io90pwm316.h: Add Lockbit data. Fix fuse data.
	* include/avr/io90pwm2b.h: Add Lockbit data. Fix fuse data.
	* include/avr/io90pwm3b.h: Add Lockbit data. Fix fuse data.
	* include/avr/iom88.h: Add Fuse data.
	* include/avr/iom168.h: Add Fuse data.
	* include/avr/iom128.h: Formatting.
	* include/avr/iom16.h: Add Fuse and Lockbit data.
	* include/avr/iom32.h: Ditto.
	* include/avr/iom64.h: Ditto.
	* include/avr/iom325.h: Ditto.
	* include/avr/iom3250.h: Ditto.
	* include/avr/iom645.h: Ditto.
	* include/avr/iom6450.h: Ditto.
	* include/avr/iom329.h: Ditto.
	* include/avr/iom3290.h: Ditto.
	* include/avr/iom649.h: Ditto.
	* include/avr/iom6490.h: Ditto.
	* include/avr/iom640.h: Ditto.
	* include/avr/iom1280.h: Ditto.
	* include/avr/iom1281.h: Ditto.
	* include/avr/iom2560.h: Ditto.
	* include/avr/iom2561.h: Ditto.
	* include/avr/iousb646.h: Ditto.
	* include/avr/iousb647.h: Ditto.
	* include/avr/iousb1286.h: Ditto.
	* include/avr/iousb1287.h: Ditto.
	* include/avr/iom8515.h: Ditto.
	* include/avr/iom161.h: Ditto.
	* include/avr/iom162.h: Ditto.
	* include/avr/iom163.h: Ditto.
	* include/avr/iousb82.h: Ditto.
	* include/avr/iousb162.h: Ditto.
	* include/avr/iom165.h: Ditto.
	* include/avr/iom165p.h: Ditto.
	* include/avr/iocan32.h: Ditto.
	* include/avr/iocan64.h: Ditto.
	* include/avr/iocan128.h: Ditto.
	* include/avr/io90pwmx.h: Ditto.
	* include/avr/io90pwm1.h: Ditto.
	* include/avr/iom169.h: Ditto.
	* include/avr/iom169p.h: Ditto.
	* include/avr/iom323.h: Ditto.
	* include/avr/iom406.h: Ditto.
	* include/avr/iotn261.h: Ditto.
	* include/avr/iotn461.h: Ditto.
	* include/avr/iotn861.h: Ditto.
	* include/avr/iotn25.h: Ditto.
	* include/avr/iotn45.h: Ditto.
	* include/avr/iotn85.h: Ditto.
	* include/avr/iotn24.h: Ditto.
	* include/avr/iotn44.h: Ditto.
	* include/avr/iotn84.h: Ditto.
	* include/avr/iotn2313.h: Ditto.
	* include/avr/iotn13.h: Ditto.
	* include/avr/iotn11.h: Ditto.
	* include/avr/iotn12.h: Ditto.
	* include/avr/iom8hva.h: Ditto.
	* include/avr/iom16hva.h: Ditto.
	* include/avr/iom8535.h: Ditto.
	* include/avr/iom164.h: Ditto.
	* include/avr/iom324.h: Ditto.
	* include/avr/iom644.h: Ditto.
	* include/avr/iotn28.h: Ditto.
	* include/avr/iotn26.h: Ditto.
	* include/avr/iotn22.h: Ditto.
	* include/avr/iotn15.h: Ditto.

2007-11-30  Eric B. Weddington  <eric.weddington@atmel.com>

	* doc/api/doxygen.config.in: Add avr/fuse.h to the doc list.

2007-11-30  Eric B. Weddington  <eric.weddington@atmel.com>

	* include/avr/fuse.h: Add documentation for Fuse API.

2007-11-28  Eric B. Weddington  <eric.weddington@atmel.com>

	Add new devices: ATmega1284P, ATmega32HVB.
	* configure.ac: Add new devices.
	* devtools/gen-avr-lib-tree.sh: Ditto.
	* include/avr/Makefile.am: Ditto.
	* include/avr/io.h: Ditto.
	* doc/api/main_page.dox: Ditto.
	* doc/api/using-tools.dox: Ditto.
	* include/avr/power.h: Ditto.
	* include/avr/wdt.h: Ditto.
	* NEWS: Update new devices list.
	* include/avr/iom1284p.h: New file.
	* include/avr/iom32hvb.h: New file.

2007-11-08  Eric B. Weddington  <eweddington@cso.atmel.com>

	Add new device: ATtiny88.
	* configure.ac: Add new device.
	* devtools/gen-avr-lib-tree.sh: Ditto.
	* include/avr/Makefile.am: Ditto.
	* include/avr/io.h: Ditto.
	* doc/api/main_page.dox: Ditto.
	* doc/api/using-tools.dox: Ditto.
	* include/avr/power.h: Ditto.
	* include/avr/wdt.h: Ditto.
	* include/avr/iotn88.h: New file.
	* NEWS: Update new devices list.
	* include/avr/iotn48.h: Add lockbit information.

2007-11-02  Eric B. Weddington  <eweddington@cso.atmel.com>

	* include/avr/iom48p.h: New implementation. No common file included. 
	Add Fuse and lockbit definitions. Fix bugs.
	* include/avr/iom88p.h: Ditto.
	* include/avr/iom168p.h: Ditto.
	* include/avr/iom328p.h: Ditto.
	* include/avr/iomx8p.h: Remove file.
	* include/avr/Makefile (avr_HEADERS): Remove iomx8p.h from list.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* configure.ac: bump version date to post-release.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* Released avr-libc-1.4.7.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* configure.ac: bump version.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	bug #21432: Incorrect timer interrupt handler names for ATtiny45
	* include/avr/iotnx5.h: Add TIMER0..._vect and TIMER1..._vect
	names in addition to the TIM0... and TIM1... names to match
	the recently changed datasheet.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	bug #21204: iotnx61.h PRR bits incorrect
	* include/avr/iotnx61.h: Use correct bit numbers for
	PRTIM0/PRTIM1.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	bug #21444: Undocument -minit-stack
	* doc/api/using-tools.dox: Remove references to -minit-stack,
	add an explanation for how to set __stack in order to relocate
	the stack.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	bug #20530: Bug in sample code for early wdt disable
	* include/avr/wdt.h: move variable mcusr_mirror into
	the .noinit section in example code.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	bug #20248: FAQ#3: clarify which registers are safe to be used
	* doc/api/faq.dox: Describe that r8...r15 can only be used
	for register variables if they are not used for argument
	passing.  Clarify that call-saved registers must be
	preserved even in case they are used for argument passing by
	the compiler.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	bug #20650: Missing description of AVR specific C-preprocessor
	macros
	* doc/api/using-tools.dox: Document the target-specific macros
	__AVR, __AVR__, AVR, and __NO_INTERRUPTS__.

2007-10-30 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	bug #18373: Bugs in Inline ASM documentacion
	* doc/api/inline_asm.dox: Inline asm documentation improvements:
	  . mention named operands
	  . document that read-write constraints to work
	  . explain read-write constraints

2007-10-29  Eric B. Weddington  <eweddington@cso.atmel.com>

	* include/avr/power.h: Add support for ATmega48P-88P-168P-328P devices.

2007-10-28 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Submitted by Florin-Viorel Petrov
	Patch #6236: Improving _delay_us and _delay_ms
	* include/util/delay.h: Provide fallback functionality
	to extend the possible argument range to _delay_us(),
	and _delay_ms(), respectively.

2007-10-25  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iocanxx.h (OVFG): Define.
	Closes bug #21434.

2007-10-25  Anatoly Sokolov <aesok@post.ru>

	* include/avr/io90pwmx.h (AMP0EN, AMP0IS, AMP0G1, AMP0G0, AMP0TS1, 
	AMP0TS0, AMP1EN, AMP1IS, AMP1G1, AMP1G0, AMP1TS1, AMP1TS0, 
	ADASCR): Define.
	Closes bug #20435.

2007-10-25  Anatoly Sokolov <aesok@post.ru>

	* include/avr/io2313.h (TICIE1): Define.
	Closes bug #20682.

2007-10-25  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iotn13.h (EIN1D): Rename to AIN1D.
	Closes bug #21411.

2007-10-25 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add new devices: ATmega48P/88P/168P/328P.
	* devtools/gen-avr-lib-tree.sh: Ditto.
	* include/avr/Makefile.am: Ditto.
	* include/avr/io.h: Ditto.
	* doc/api/main_page.dox: Ditto.
	* doc/api/using-tools.dox: Ditto.
	* include/avr/wdt.h: Ditto.
	* include/avr/iom168p.h: New file.
	* include/avr/iom328p.h: New file.
	* include/avr/iom48p.h: New file.
	* include/avr/iom88p.h: New file.
	* include/avr/iomx8p.h: New file.
	* NEWS: Add devices to list.

2007-10-24  Eric B. Weddington  <eweddington@cso.atmel.com>

	Add Lockbits API. Set the lockbits from within the application.
	* include/avr/Makefile.am: Add new file to distribution.
	* include/avr/io.h: Include new lock.h file.
	* include/avr/iom128.h: Add definitions for API.
	* include/avr/iom48.h: Ditto.
	* include/avr/iom88.h: Ditto.
	* include/avr/iom168.h: Ditto.
	* include/avr/lock.h: New file.

2007-10-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix bug #21174: assembly error with targets at90s1200, attiny11,
	attiny12, and attiny28
	* crt1/gcrt1.S: for assembly-only architectures, revert to the
	old behaviour of jumping to main() rather than calling it, and
	jumping to exit() afterwards.

2007-10-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix for bug #18964: USART definitions *wrong* in iocanxx.h
	* include/avr/iocanxx.h: Add missing SIG_USART* vector names.

2007-10-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Submitted by Guohui Wang <info@Atmanecl.net>:
	Fix for bug #20843: Mega 2561 library
	* crt0/gcrt0.S: initialize EIND for avr6 architectures to
	the same segment __vectors belongs to.

2007-10-19  Eric B. Weddington  <eweddington@cso.atmel.com>

	* configure.ac: Add new devices: AT90PWM2B, AT90PWM3B.
	* devtools/gen-avr-lib-tree.sh: Ditto.
	* include/avr/Makefile.am: Ditto.
	* include/avr/io.h: Ditto.
	* doc/api/main_page.dox: Ditto.
	* doc/api/using-tools.dox: Ditto.
	* include/avr/power.h: Ditto.
	* include/avr/wdt.h: Ditto.
	* include/avr/io90pwm2b.h: New file.
	* include/avr/io90pwm3b.h: New file.
	* NEWS: Add devices to list.

2007-10-19  Eric B. Weddington  <eweddington@cso.atmel.com>

	Fix for Atmel bug #6346.
	* include/avr/iom8515.h: Add USART* interrupt vector names to
	correctly reflect the device XML file.

2007-10-19  Eric B. Weddington  <eweddington@cso.atmel.com>

	* devtools/gen-avr-lib-tree.sh: Remove duplicate entries for
	at90pwm216 and at90pwm316.

2007-10-10  Eric B. Weddington  <eweddington@cso.atmel.com>

	Resolve bug #21299: Duplicate register address in iotn48.h.
	* include/avr/iotn48.h: Fix PRR address.
	* NEWS: Update fixed bug list.

2007-10-08  Eric B. Weddington  <eweddington@cso.atmel.com>

	* include/avr/io90pwm216.h: Add fuse information.
	* include/avr/io90pwm316.h: Ditto.
	* include/avr/iotn43u.h: Ditto.

2007-10-08  Eric B. Weddington  <eweddington@cso.atmel.com>

	Add new device: ATtiny48.
	* configure.ac: Add new devices.
	* devtools/gen-avr-lib-tree.sh: Ditto.
	* include/avr/Makefile.am: Ditto.
	* include/avr/io.h: Ditto.
	* doc/api/main_page.dox: Ditto.
	* doc/api/using-tools.dox: Ditto.
	* include/avr/power.h: Ditto.
	* include/avr/wdt.h: Ditto.
	* include/avr/iotn48.h: New file.
	* NEWS: Update new devices list.

2007-10-05  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Resolve bug #21228: Missing 3rd clause in BSD license in
	documentation pages
	* doc/api/main_page.dox: Add clause #3.
	* doc/api/using-tools.dox: Add clause #3.

2007-10-05 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Unbreak the documentation build for recent versions of doxygen.
	NB: the latex package "urc" must be installed in order to
	successfully build the documentation.

	* doc/api/doxygen.config.in: Update for doxygen 1.5.x.  Most of
	the changes have been generated by running doxygen -u.  In
	addition, the input encoding has been changed to iso-8859-1
	because this matches our current documentation.
	* doc/api/overview.dox: Fix two illegal special characters that
	were not part of ISO8859-1.
	* include/stdio.h: Remove an unneeded hyphenation.

2007-10-03  Eric B. Weddington  <eweddington@cso.atmel.com>

	Add new device: ATtiny43U.
	* configure.ac: Add new device.
	* devtools/gen-avr-lib-tree.sh: ditto.
	* include/avr/Makefile.am: ditto.
	* include/avr/io.h: ditto.
	* include/avr/power.h: ditto.
	* doc/api/using-tools.dox: ditto.
	* doc/api/main_page.dox: ditto.
	* include/avr/iotn43u.h: New file.
	* NEWS: Update new devices list.

2007-10-03  Eric B. Weddington  <eweddington@cso.atmel.com>

	* devtools/gen-avr-lib-tree.sh: Optimize for space for all devices.

2007-10-03  Eric B. Weddington  <eweddington@cso.atmel.com>

	The start of a Fuse API.
	* include/avr/fuse.h: New file.
	* include/avr/io.h: Add inclusion of fuse.h.
	* include/avr/Makefile.am: Add fuse.h to distribution list.
	* include/avr/iom128.h: Add fuse information to ATmega128 IO header.

2007-10-03  Eric B. Weddington  <eweddington@cso.atmel.com>

	* doc/api/main_page.dox: Reorganize and update device listing.
	Fix spelling and grammar.

2007-10-02  Eric B. Weddington  <eweddington@cso.atmel.com>

	* doc/api/pgmspace.dox: Fix example code. Change description to match.
	* NEWS: Update fixed bugs list.
	Fixes bug #21183.

2007-10-01  Eric B. Weddington  <eweddington@cso.atmel.com>

	Add new devices: AT90PWM216, AT90PWM316, with contributions from 
	Tobias Frost <tobi@coldtobi.de>.
	* devtools/gen-avr-lib-tree.sh: Add new devices.
	* configure.ac: ditto.
	* doc/api/using-tools.dox: ditto.
	* include/avr/Makefile.am: ditto.
	* include/avr/power.h: ditto.
	* include/avr/wdt.h: ditto.
	* include/avr/io.h: ditto.
	* include/avr/io90pwm216.h: New file.
	* include/avr/io90pwm316.h: New file.
	* NEWS: Update new devices list.

2007-07-30  Eric B. Weddington  <eweddington@cso.atmel.com>

	*include/avr/Makefile.am: Add missing common.h to install list.

2007-07-09  Eric B. Weddington  <eweddington@cso.atmel.com>

	* doc/api/inline_asm.dox: Document new constraints.

2007-07-07  Dmitry Xmelkov  <dmix@gmail.ru>

	Add new function alloca(). Fix savannah bug #19686: alloca
	declaration missing.
	* include/alloca.h: New file.
	* include/Makefile.am: Add alloca.h file.
	* doc/api/doxygen.config.in: Add alloca.h file.
	* NEWS: Add item to fixed bug list.

2007-07-06 Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/faq.dox: Add FAQ for soft reset.

2007-06-27 Eric B. Weddington <eweddington@cso.atmel.com>

	* include/avr/power.h: Add support for ATmega644P.
	* NEWS: Add item to fixed bug list.
	Fixes bug #20276.

2007-06-08 Eric B. Weddington <eweddington@cso.atmel.com>

	* include/avr/common.h: New file.
	* include/avr/io.h: Move definitions to common.h. Fix documentation.
	* common/macros.inc: Use new common register definitions.
	* crt1/gcrt1.S: Use new common register definitions.
	* include/avr/iomxx0_1.h: Define EIND as normal without conditional
	  compilation.
	* libc/stdlib/stdlib_private.h: Use new common register definitions.
	* libm/fplib/strtod.S: Use new common register definitions. Check if
	  the stack high register exists and don't use it if it does not exist.
	* doc/api/doxygen.config.in: Add avr/io.h back into the documentation list.
	* libc/stdlib/setjmp.S: Use new common register definitions.

2007-05-29 Eric B. Weddington <eweddington@cso.atmel.com>

	* Makefile.am: Add ChangeLog-2006 to distribution list.

2007-05-29 Eric B. Weddington <eweddington@cso.atmel.com>

	* configure.ac: Revert patch and add devices back into avr2 group.
	This allows avr-libc to work with previous versions of GCC.
	* devtools/gen-avr-lib-tree.sh: ditto.

2007-05-22 Eric B. Weddington <eweddington@cso.atmel.com>

	* devtools/gen-avr-lib-tree.sh: Replace awk with cut, which speeds
	up the script. Remove devices in avr2 group that have been moved
	to the avr25 group.
	* configure.ac: Remove devices in avr2 group that have been moved
	to the avr25 group.

2007-05-21 Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/tools-install.dox: Add documentation on how to build the 
	toolchain under Windows. Fix for bug #19496.
	* doc/api/acknowledge.dox: Typo, email address, and add missing clause.
	* NEWS: Add to bugs fixed list.

2007-05-15 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* configure.ac: bump version date after release.

2007-05-14 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* Released avr-libc 1.4.6.

2007-05-14 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* configure.ac: bump version.

2007-05-14 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/api/rel-method.dox: configure.in -> configure.ac
	* xml/Atmel2libc.py: Catch (and ignore) errors resulting from
	empty IO register declarations in the Atmel files, as e.g. for
	MCUCR in AT86RF401.
	* xml/patch-headers.py: Add all the new devices we do support
	now.
	* doc/api/vectortable.dox: Regenerate.
	* doc/api/Makefile.am: add vectortable.dox.
	* include/avr/iotnx4.h: Sigh.  AVR Studio 4.13 gratuitously
	renamed a number of interrupt vectors for ATtinyX4 devices.
	Add these new declarations along with the older ones.

2007-05-14 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* common/Makefile.am: add asmdef.h so "make distcheck" will work
	again

2007-05-13 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix bug #19009: Make <util/delay.h> issue a warning when optimizations
	are turned off
	* include/util/delay.h: Split the basic delay functions off into
	<util/delay_basic.h>; issue a warning when this file is compiled
	without optimization.
	* include/util/delay_basic.h: (New file.)
	* include/util/Makefile.am: add delay_basic.h

2007-05-13  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iousbxx6_7.h: Change PORTxy to Pxy.

2007-05-13 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add tests for the ATmega8HVA/16HVA support.
	* devtools/gen-avr-lib-tree.sh: Add support for ATmega8HVA/16HVA.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/iom8hva.h: New file.
	* include/avr/iom16hva.h: New file.
	* include/avr/iomxxhva.h: New file.
	* include/avr/Makefile.am: Include new files.
	* doc/api/main_page.dox: Document support for ATmega8HVA/16HVA.
	* doc/api/using-tools.dox: (Ditto.)

2007-05-12  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iousbxx2.h: Change PORTxy to Pxy.

2007-05-11  Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add 'avr25' architecture.
	* devtools/gen-avr-lib-tree.sh (AVR_ARH_INFO): Ditto.
	(AVR25_DEV_INFO): New.
	* doc/api/using-tools.dox: Document 'avr25'.

2007-05-09 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix bug #19445: _malloc_heap_end does not follow _heap_end on m2561
	* doc/api/malloc-std.fig: Clearly distinguish library-internal
	variables from absolute symbols added by the linker.
	* doc/api/malloc-x1.fig: (Ditto.)
	* doc/api/malloc-x2.fig: (Ditto.)

2007-05-09 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix bug #19841: Error building 1.4 HEAD: undefined reference to 'exit'
	* doc/api/Makefile.am (DEMO_LIBS): add exit.o to the list of files to
	link the demo against.

2007-05-08 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix bug #19050: gcrt1.S should call main rather than jumping to it
	* crt1/gcrt1.S: call main() rather than jumping to it, and then
	jump to exit().

2007-05-06  Eric B. Weddington <eweddington@cso.atmel.com>

	Fix bug #19666:
	* include/avr/io90pwmx.h: Add ADHSM, ADTS3 bits to the ADCSRB register.

2007-05-05  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/examples/asmdemo/asmdemo.dox: Fix HTML code in source code links.

2007-05-05  Eric B. Weddington <eweddington@cso.atmel.com>

	Fix bug #19495.
	* include/avr/interrupt.h: Fix doxygen stuff, whitespace, remove unused
	C++ stuff at the end.
	* NEWS: Update bugs fixed.

2007-05-02  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/overview.dox: Fix typos, grammar, names.
	* doc/api/inline_asm.dox: Expand title name back to the original title.

2007-04-27  Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Move AT90USB82 device to 'avr5' architecture.
	* devtools/gen-avr-lib-tree.sh: (Ditto.).
	* doc/api/using-tools.dox: (Ditto.).
	* include/avr/iousbxx2.h (_VECTORS_SIZE): Redefine for AT90USB82.

2007-04-21 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/avr/io90pwm3.h: Change bit 2 of PLLCSR from
	PCKE to PLLF.
	Fixes savannah bug #19650: avr-libc: wrong named bit in SFR of AT90PWMx

2007-04-05  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/malloc.dox: Change title and reorder sentences in Introduction.

2007-03-31  Dmitry Xmelkov  <dmix@gmail.ru>

	Sync pmstring functions with MAIN branch.

	* libc/pmstring/memchr_P.S: New file.
	* libc/pmstring/memrchr_P.S: New file.
	* libc/pmstring/strchrnul_P.S: New file.
	* libc/pmstring/strcspn_P.S: New file.
	* libc/pmstring/strpbrk_P.S: New file.
	* libc/pmstring/strrchr_P.S: New file.
	* libc/pmstring/strsep_P.S: New file.
	* libc/pmstring/strspn_P.S: New file.

	* include/avr/pgmspace.h: Add new functions: memchr_P(), memmem_P(),
	memrchr_P(), strchrnul_P(), strcasestr_P(), strcspn_P(), strpbrk_P(),
	strrchr_P(), strsep_P(), strspn_P().
	* libc/pmstring/Files.am: Add new sources: memchr_P.S, memrchr_P.S,
	strchrnul_P.S, strcspn_P.S, strpbrk_P.S, strrchr_P.S, strsep_P.S,
	strspn_P.S

	* libc/pmstring/strstr_P.S: Optimize: reduce size by 1..2 words.

	* libc/pmstring/memcmp_P.S: Cosmetic improvement of DOXYGEN comment.
	* libc/pmstring/strcasecmp_P.S: (Ditto.)
	* libc/pmstring/strchr_P.S: (Ditto.)
	* libc/pmstring/strcmp_P.S: (Ditto.)
	* libc/pmstring/strncasecmp_P.S: (Ditto.)

2007-03-31  Dmitry Xmelkov  <dmix@gmail.ru>

	Sync string functions with MAIN branch.

	* common/asmdef.h: New file.
	* libc/string/memmem.S: New file.
	* libc/string/memmem_P.S: New file.
	* libc/string/memrchr.S: New file.
	* libc/string/strcasestr.S: New file.
	* libc/string/strcasestr_P.S: New file.
	* libc/string/strchrnul.S: New file.
	* libc/string/strcspn.S: New file.
	* libc/string/strpbrk.S: New file.
	* libc/string/strspn.S: New file.

	* include/string.h: Add new functions: memmem(), memrchr(),
	strchrnul(), strcasestr(), strcspn(), strpbrk(), strspn().
	* libc/string/Files.am: Add new sources: memmem.S, memmem_P.S,
	memrchr.S, strcasestr.S, strcasestr_P.S, strchrnul.S, strcspn.S,
	strpbrk.S, strspn.S .

	* libc/string/strlwr.S: Optimize size and speed.
	* libc/string/strrev.S: Optimize speed for strings 4 bytes long
	and more. Size is the same.
	* libc/string/strsep.S: Optimize size and speed. Correct DOXYGEN.
	* libc/string/strstr.S: Optimize: reduce size by 1..2 words.
	* libc/string/strupr.S: Optimize size and speed.

	* libc/string/strcasecmp.S: Cosmetic improvement of DOXYGEN comment.
	* libc/string/strncasecmp.S: (Ditto.)
	* libc/string/strchr.S: (Ditto.)
	* libc/string/strcmp.S: (Ditto.)

2007-03-30  Eric B. Weddington <eweddington@cso.atmel.com>

	* include/avr/io2343.h: Add missing bit definitions for MCUSR.
	Fixes WinAVR feature request #1657218.

2007-03-30  Dmitry Xmelkov  <dmix@gmail.ru>

	* libc/stdlib/ctype.S: Fix bug #19281: isblank('\v') return TRUE:
	mismatch to C99

2007-03-29  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/doxygen.config.in (INPUT): Add new file to list. Reorder list.
	* doc/api/pgmspace.dox (new file): New chapter. Data in Program Space.
	* doc/api/library.dox (new file): New chapter. How to Create a Library.
	* doc/api/porting.dox: Rewrote the introduction for better flow.
	* doc/api/Makefile.am (EXTRA_DIST): Add new .dox file.
	* include/avr/pgmspace.h: Change title of documentation.
	* doc/api/interrupts.dox: Fix typo. Add missing 3rd clause to license.

2007-03-28  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/doxygen.config.in (INPUT): Add new file to list. Reorder.
	* doc/api/overview.dox (new file): New chapter. Overview of toolchain.
	* doc/api/Makefile.am (EXTRA_DIST): Add the two new .dox files.

2007-03-28 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add tests for the AT90USB82/162 support.
	* devtools/gen-avr-lib-tree.sh: Add support for AT90USB82/162.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/iousb82.h: New file.
	* include/avr/iousb162.h: New file.
	* include/avr/iousbxx2.h: New file.
	* include/avr/Makefile.am: Include new files.
	* doc/api/main_page.dox: Document support for AT90USB82/162.
	* doc/api/using-tools.dox: (Ditto.)

2007-03-26  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/doxygen.config.in (INPUT): Change order of documentation pages.
	* doc/api/dox_html_header: Change order of header links. Change
	Additional Documentation to User Manual.
	* doc/api/porting.dox (new file): New chapter. Porting from IAR to AVR GCC.
	Adapted, with permission, from a document written by Eivind Sivertsen.

2007-03-25  Dmitry Xmelkov  <dmix@gmail.ru>

	Fix bug #19280: snprintf(s,0,fmt,...) write to foreign memory: s[-1]
	* libc/stdio/snprintf.c: Add check of 'f.size >= 0' before writing
	of terminating zero. Use f.len as number of output symbols. Remove
	include of "stdio_private.h" as noused (after moving FILE decl.).
	* libc/stdio/snprintf_p.c: (Ditto.)
	* libc/stdio/vsnprintf.c: (Ditto.)
	* libc/stdio/vsnprintf_p.c: (Ditto.)

	* libc/stdlib/atoi.S: Fix bug #18899: atoi and atol do not handle
	vertical tab properly. Reduce program size considarably.
	* libc/stdlib/atol.S: (Ditto.)

	Enable use an asm variant of atol(). Correct docs.
	* include/stdlib.h (atol): Change the definition of function:
	instead to define inline code which use strtol(), now it is a
	normal definition of external function. Correct the DOXYGEN comment.
	* include/stdlib.h (atoi): Correct the DOXYGEN comment, delete
	a conditional define for DOXYGEN specially.

2007-02-26  Dmitry Xmelkov  <dmix@gmail.ru>

	* libc/pmstring/memcmp_P.S: Fix DOXYGEN comment.
	* libc/pmstring/strchr_P.S: (Ditto.)

2007-02-25  Dmitry Xmelkov  <dmix@gmail.ru>

	* bootstrap: Version 2.60 for autoconf is added.

	* libc/pmstring/memcmp_P.S: New file.
	* libc/pmstring/strchr_P.S: New file.
	* include/avr/pgmspace.h: Add new functions: memcmp_P(), strchr_P().
	* libc/pmstring/Files.am: Add new source files memcmp_P.S, strchr_P.S

	* libc/string/strcasecmp.S: Fix bug #19134: strcasecmp(): result
	sign is not changed by swaping args.
	* libc/string/strncasecmp.S: (Ditto.)
	* libc/pmstring/strcasecmp_P.S: (Ditto.)
	* libc/pmstring/strncasecmp_P.S: (Ditto.)

	* libc/string/strstr.S: Fix bug #19135: strstr(): `needle' is not
	always founded. Optimize code.
	* libc/pmstring/strstr_P.S: (Ditto.)

	* libc/string/strcmp.S: Optimize by 1 word.
	* libc/pmstring/strcmp_P.S: Optimize by 1 word.

	* libc/string/strchr.S: Reduce program size by 1 word.

2007-02-24  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iomxx4.h (SPCR0, SPSR0, SPDR0, SPIE0, SPE0, DORD0, 
	MSTR0, CPOL0, CPHA0, SPR01, SPR00, SPIF0, WCOL0, SPI2X0): Rename 
	to SPCR, SPSR, SPDR, SPIE, SPE, DORD, MSTR, CPOL, CPHA, SPR1, SPR0,
	SPIF, WCOL, SPI2X.
	(PRR): Define.
	Closes bug #18903: ATmega644 register definitions for SPI and 
	PRR (datasheet vs. iom*.h)

2007-02-24 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add tests for the ATmega325P, ATmega3250P and 
	ATmega329P support.
	* devtools/gen-avr-lib-tree.sh: Add support for ATmega325P, 
	ATmega3250P and ATmega329P devices.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/iom325.h (BODSE, BODS): Define for ATMega325P.
	* include/avr/iom3250.h (BODSE, BODS): Define for ATMega3250P.
	* include/avr/iom329.h (BODSE, BODS, LCDCCD, LCDBD, LCDMDT): Define
	for ATMega3290P.
	* doc/api/main_page.dox: Document support for ATmega325P, ATmega3250P
	and ATmega329P devices.
	* doc/api/using-tools.dox: (Ditto.)

2007-02-18  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iotnx61.h (PCMSK0): Set address to 0x23.
	(PCMSK1): Set address to 0x22.
	Fix bug #19060: PCMSKx registers transposed in header for attinyX61

2007-02-05 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/api/faq.dox: Add some explanation how to convert raw binary
	data so they can be linked into the image.

2007-02-03  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iotnx61.h (WGM00, PWM1X) Define.
	Closes bug #18915: PWM1X Bit missing for ATtiny261/461/861

2007-01-30  Anatoly Sokolov <aesok@post.ru>

	* doc/api/using-tools.dox: Document GCC macros.

2007-01-27  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iom3290.h (BODSE, BODS, LCDCCD, LCDBD, LCDMDT): Define
	for ATMega3290P.
	* include/avr/iom3290p.h: Delete.
	* include/avr/Makefile.am (avr_HEADERS): Delete iom3290p.h.
	* include/avr/io.h: Include iom3290.h instead iom3290p.h.

2007-01-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/assert.h: Add \file doxygen directive.
	* include/ctype.h: (Ditto.)
	* include/errno.h: (Ditto.)
	* include/inttypes.h: (Ditto.)
	* include/math.h: (Ditto.)
	* include/setjmp.h: (Ditto.)
	* include/stdint.h: (Ditto.)
	* include/stdio.h: (Ditto.)
	* include/stdlib.h: (Ditto.)
	* include/string.h: (Ditto.)
	* include/avr/boot.h: (Ditto.)
	* include/avr/eeprom.h: (Ditto.)
	* include/avr/interrupt.h: (Ditto.)
	* include/avr/io.h: (Ditto.)
	* include/avr/pgmspace.h: (Ditto.)
	* include/avr/power.h: (Ditto.)
	* include/avr/sleep.h: (Ditto.)
	* include/avr/wdt.h: (Ditto.)
	* include/util/crc16.h: (Ditto.)
	* include/util/delay.h: (Ditto.)
	* include/util/parity.h: (Ditto.)
	* include/util/twi.h: (Ditto.)
	* libc/pmstring/memcpy_P.S: (Ditto.)
	* libc/pmstring/strcasecmp_P.S: (Ditto.)
	* libc/pmstring/strcat_P.S: (Ditto.)
	* libc/pmstring/strcmp_P.S: (Ditto.)
	* libc/pmstring/strcpy_P.S: (Ditto.)
	* libc/pmstring/strlcat_P.S: (Ditto.)
	* libc/pmstring/strlcpy_P.S: (Ditto.)
	* libc/pmstring/strlen_P.S: (Ditto.)
	* libc/pmstring/strncasecmp_P.S: (Ditto.)
	* libc/pmstring/strncat_P.S: (Ditto.)
	* libc/pmstring/strncmp_P.S: (Ditto.)
	* libc/pmstring/strncpy_P.S: (Ditto.)
	* libc/pmstring/strnlen_P.S: (Ditto.)
	* libc/pmstring/strstr_P.S: (Ditto.)
	* libc/stdio/fdevopen.c: (Ditto.)
	* libc/stdlib/atoi.S: (Ditto.)
	* libc/stdlib/atol.S: (Ditto.)
	* libc/string/ffs.S: (Ditto.)
	* libc/string/ffsl.S: (Ditto.)
	* libc/string/ffsll.S: (Ditto.)
	* libc/string/memccpy.S: (Ditto.)
	* libc/string/memchr.S: (Ditto.)
	* libc/string/memcmp.S: (Ditto.)
	* libc/string/memcpy.S: (Ditto.)
	* libc/string/memmove.S: (Ditto.)
	* libc/string/memset.S: (Ditto.)
	* libc/string/strcasecmp.S: (Ditto.)
	* libc/string/strcat.S: (Ditto.)
	* libc/string/strchr.S: (Ditto.)
	* libc/string/strcmp.S: (Ditto.)
	* libc/string/strcpy.S: (Ditto.)
	* libc/string/strlcat.S: (Ditto.)
	* libc/string/strlcpy.S: (Ditto.)
	* libc/string/strlen.S: (Ditto.)
	* libc/string/strlwr.S: (Ditto.)
	* libc/string/strncasecmp.S: (Ditto.)
	* libc/string/strncat.S: (Ditto.)
	* libc/string/strncmp.S: (Ditto.)
	* libc/string/strncpy.S: (Ditto.)
	* libc/string/strnlen.S: (Ditto.)
	* libc/string/strrchr.S: (Ditto.)
	* libc/string/strrev.S: (Ditto.)
	* libc/string/strsep.S: (Ditto.)
	* libc/string/strstr.S: (Ditto.)
	* libc/string/strtok_r.S: (Ditto.)
	* libc/string/strupr.S: (Ditto.)
	* doc/api/dox_html_header: Include reference to alphabetical
	globals list, collected from all files that have \file.
	* doc/api/dox.css: Update for doxygen version 1.4.7.

2007-01-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Various documentation fixes.
	* xml/patch-headers.py: Update for new devices.
	* doc/api/vectortable.dox: Regenerate from patch-headers.py.
	Closes bug #18686: AT90USB**** devices are absent in
	interrupt-verctor-names table
	* include/stdlib.h: Fix doxygen generation for dtostr*()
	functions.
	Closes bug #18726: the dtostrf function description is missing
	in AVR-Libc's webpage
	* doc/api/faq.dox: Resolve some doxygen warnings.
	* doc/examples/asmdemo/asmdemo.dox: (Ditto.)
	* doc/examples/demo/demo.dox: (Ditto.)

2007-01-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Cosmetic/white space change only:
	* include/avr/iocanxx.h: Regenerate vector table from script.
	* include/avr/iom406.h: (Ditto.)
	* include/avr/iomxx4.h: (Ditto.)
	* include/avr/iotn2313.h: (Ditto.)
	* include/avr/iousbxx6_7.h: (Ditto.)

2007-01-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* LICENSE: Update copyright year.
	* doc/api/main_page.dox: Include copyright notice into
	documentation.

2007-01-21 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/avr/iomxx4.h: Clarify a confusing comment that all the
	picopower devices covered by this file feature a second USART.

2007-01-19 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/examples/largedemo/largedemo.c: Port the "largedemo" to
	the ATtiny2313.
	* doc/examples/largedemo/largedemo.dox: Describe the ATtiny2313
	port.
	* doc/examples/largedemo/Makefile: Add a MCU_TARGET hint for
	the ATtiny2313.

2007-01-18 Anatoly Sokolov <aesok@post.ru>

	* common/macros.inc (__AVR_HAVE_MUL__): Define.
	* libc/misc/mul10.S (__mulhi_const_10): Use __AVR_HAVE_MUL__ instead
	of __AVR_ENHANCED__.

2007-01-14 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add tests for the AT90PWM1 support.
	* devtools/gen-avr-lib-tree.sh: Add support for AT90PWM1 device.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/io90pwm1.h: new file.
	* include/avr/Makefile.am: include new file.
	* doc/api/main_page.dox: Document support for AT90PWM1 device.
	* doc/api/using-tools.dox: (Ditto.)

2007-01-14 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Submitted by Robert Schiele:
	* include/stdint.h: Exclude 64-bit types when -mint8 is in effect.
	* include/avr/pgmspace.h: (Ditto.)

2007-01-08 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/avr/boot.h (boot_lock_bits_set): Fix a typo: BLB11 needs
	to be programmed (rather than BLB12) in order to prevent the
	application from overwriting the boot loader section.
	Closes bug #18115: online documentation typo/bug avr/boot.h

2007-01-08 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/stdio.h: Document that malloc() is no longer needed for
	floating-point conversions as it once used to be.
	Closes bug #18688: vfscanf and vfprintf don't use malloc

2007-01-08 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix broken seeding of the PRNGs when seeding with 0.
	This fix is courtesy Andrew Chernov from the FreeBSD
	project (rev. 1.21 of their random.c).
	* libc/stdlib/random.c (do_random): seed with another (arbitrary) value
	when attempting to seed with 0.
	* libc/stdlib/rand.c (do_rand): (Ditto.)
	Closes bug #18662: rand() keeps returning the same value if seeded with 0

2007-01-01 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix breakage for strtod() on avr6 architectures caused
	by calling __prologue_saves__.
	Fixes bug #18509: strtod.S crashes due to stack problem with atmega
	2560
	* libm/fplib/strtod.S: pop and restore EIND from the stack before
	calling __prologue_saves__ on 3-byte PC AVR architectures.
	* include/avr/io.h: Provide a value for EIND when compiling the
	library for an avr6 architecture.
	* include/avr/iomxx0_1.h: Protect the EIND definition from appearing
	twice in while compiling the library for an avr6 architecture.

For older changes see ChangeLog-2006
