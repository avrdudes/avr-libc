2007-03-29  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/doxygen.config.in (INPUT): Add new file to list. Reorder list.
	* doc/api/pgmspace.dox (new file): New chapter. Data in Program Space.
	* doc/api/library.dox (new file): New chapter. How to Create a Library.
	* doc/api/porting.dox: Rewrote the introduction for better flow.
	* doc/api/Makefile.am (EXTRA_DIST): Add new .dox file.
	* include/avr/pgmspace.h: Change title of documentation.
	* doc/api/interrupts.dox: Fix typo. Add missing 3rd clause to license.

2007-03-28  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/doxygen.config.in (INPUT): Add new file to list. Reorder.
	* doc/api/overview.dox (new file): New chapter. Overview of toolchain.
	* doc/api/Makefile.am (EXTRA_DIST): Add the two new .dox files.

2007-03-28 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add tests for the AT90USB82/162 support.
	* devtools/gen-avr-lib-tree.sh: Add support for AT90USB82/162.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/iousb82.h: New file.
	* include/avr/iousb162.h: New file.
	* include/avr/iousbxx2.h: New file.
	* include/avr/Makefile.am: Include new files.
	* doc/api/main_page.dox: Document support for AT90USB82/162.
	* doc/api/using-tools.dox: (Ditto.)

2007-03-26  Eric B. Weddington <eweddington@cso.atmel.com>

	* doc/api/doxygen.config.in (INPUT): Change order of documentation pages.
	* doc/api/dox_html_header: Change order of header links. Change
	Additional Documentation to User Manual.
	* doc/api/porting.dox (new file): New chapter. Porting from IAR to AVR GCC.
	Adapted, with permission, from a document written by Eivind Sivertsen.

2007-03-25  Dmitry Xmelkov  <dmix@gmail.ru>

	Fix bug #19280: snprintf(s,0,fmt,...) write to foreign memory: s[-1]
	* libc/stdio/snprintf.c: Add check of 'f.size >= 0' before writing
	of terminating zero. Use f.len as number of output symbols. Remove
	include of "stdio_private.h" as noused (after moving FILE decl.).
	* libc/stdio/snprintf_p.c: (Ditto.)
	* libc/stdio/vsnprintf.c: (Ditto.)
	* libc/stdio/vsnprintf_p.c: (Ditto.)

	* libc/stdlib/atoi.S: Fix bug #18899: atoi and atol do not handle
	vertical tab properly. Reduce program size considarably.
	* libc/stdlib/atol.S: (Ditto.)

	Enable use an asm variant of atol(). Correct docs.
	* include/stdlib.h (atol): Change the definition of function:
	instead to define inline code which use strtol(), now it is a
	normal definition of external function. Correct the DOXYGEN comment.
	* include/stdlib.h (atoi): Correct the DOXYGEN comment, delete
	a conditional define for DOXYGEN specially.

2007-02-26  Dmitry Xmelkov  <dmix@gmail.ru>

	* libc/pmstring/memcmp_P.S: Fix DOXYGEN comment.
	* libc/pmstring/strchr_P.S: (Ditto.)

2007-02-25  Dmitry Xmelkov  <dmix@gmail.ru>

	* bootstrap: Version 2.60 for autoconf is added.

	* libc/pmstring/memcmp_P.S: New file.
	* libc/pmstring/strchr_P.S: New file.
	* include/avr/pgmspace.h: Add new functions: memcmp_P(), strchr_P().
	* libc/pmstring/Files.am: Add new source files memcmp_P.S, strchr_P.S

	* libc/string/strcasecmp.S: Fix bug #19134: strcasecmp(): result
	sign is not changed by swaping args.
	* libc/string/strncasecmp.S: (Ditto.)
	* libc/pmstring/strcasecmp_P.S: (Ditto.)
	* libc/pmstring/strncasecmp_P.S: (Ditto.)

	* libc/string/strstr.S: Fix bug #19135: strstr(): `needle' is not
	always founded. Optimize code.
	* libc/pmstring/strstr_P.S: (Ditto.)

	* libc/string/strcmp.S: Optimize by 1 word.
	* libc/pmstring/strcmp_P.S: Optimize by 1 word.

	* libc/string/strchr.S: Reduce program size by 1 word.

2007-02-24  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iomxx4.h (SPCR0, SPSR0, SPDR0, SPIE0, SPE0, DORD0, 
	MSTR0, CPOL0, CPHA0, SPR01, SPR00, SPIF0, WCOL0, SPI2X0): Rename 
	to SPCR, SPSR, SPDR, SPIE, SPE, DORD, MSTR, CPOL, CPHA, SPR1, SPR0,
	SPIF, WCOL, SPI2X.
	(PRR): Define.
	Closes bug #18903: ATmega644 register definitions for SPI and 
	PRR (datasheet vs. iom*.h)

2007-02-24 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add tests for the ATmega325P, ATmega3250P and 
	ATmega329P support.
	* devtools/gen-avr-lib-tree.sh: Add support for ATmega325P, 
	ATmega3250P and ATmega329P devices.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/iom325.h (BODSE, BODS): Define for ATMega325P.
	* include/avr/iom3250.h (BODSE, BODS): Define for ATMega3250P.
	* include/avr/iom329.h (BODSE, BODS, LCDCCD, LCDBD, LCDMDT): Define
	for ATMega3290P.
	* doc/api/main_page.dox: Document support for ATmega325P, ATmega3250P
	and ATmega329P devices.
	* doc/api/using-tools.dox: (Ditto.)

2007-02-18  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iotnx61.h (PCMSK0): Set address to 0x23.
	(PCMSK1): Set address to 0x22.
	Fix bug #19060: PCMSKx registers transposed in header for attinyX61

2007-02-05 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/api/faq.dox: Add some explanation how to convert raw binary
	data so they can be linked into the image.

2007-02-03  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iotnx61.h (WGM00, PWM1X) Define.
	Closes bug #18915: PWM1X Bit missing for ATtiny261/461/861

2007-01-30  Anatoly Sokolov <aesok@post.ru>

	* doc/api/using-tools.dox: Document GCC macros.

2007-01-27  Anatoly Sokolov <aesok@post.ru>

	* include/avr/iom3290.h (BODSE, BODS, LCDCCD, LCDBD, LCDMDT): Define
	for ATMega3290P.
	* include/avr/iom3290p.h: Delete.
	* include/avr/Makefile.am (avr_HEADERS): Delete iom3290p.h.
	* include/avr/io.h: Include iom3290.h instead iom3290p.h.

2007-01-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/assert.h: Add \file doxygen directive.
	* include/ctype.h: (Ditto.)
	* include/errno.h: (Ditto.)
	* include/inttypes.h: (Ditto.)
	* include/math.h: (Ditto.)
	* include/setjmp.h: (Ditto.)
	* include/stdint.h: (Ditto.)
	* include/stdio.h: (Ditto.)
	* include/stdlib.h: (Ditto.)
	* include/string.h: (Ditto.)
	* include/avr/boot.h: (Ditto.)
	* include/avr/eeprom.h: (Ditto.)
	* include/avr/interrupt.h: (Ditto.)
	* include/avr/io.h: (Ditto.)
	* include/avr/pgmspace.h: (Ditto.)
	* include/avr/power.h: (Ditto.)
	* include/avr/sleep.h: (Ditto.)
	* include/avr/wdt.h: (Ditto.)
	* include/util/crc16.h: (Ditto.)
	* include/util/delay.h: (Ditto.)
	* include/util/parity.h: (Ditto.)
	* include/util/twi.h: (Ditto.)
	* libc/pmstring/memcpy_P.S: (Ditto.)
	* libc/pmstring/strcasecmp_P.S: (Ditto.)
	* libc/pmstring/strcat_P.S: (Ditto.)
	* libc/pmstring/strcmp_P.S: (Ditto.)
	* libc/pmstring/strcpy_P.S: (Ditto.)
	* libc/pmstring/strlcat_P.S: (Ditto.)
	* libc/pmstring/strlcpy_P.S: (Ditto.)
	* libc/pmstring/strlen_P.S: (Ditto.)
	* libc/pmstring/strncasecmp_P.S: (Ditto.)
	* libc/pmstring/strncat_P.S: (Ditto.)
	* libc/pmstring/strncmp_P.S: (Ditto.)
	* libc/pmstring/strncpy_P.S: (Ditto.)
	* libc/pmstring/strnlen_P.S: (Ditto.)
	* libc/pmstring/strstr_P.S: (Ditto.)
	* libc/stdio/fdevopen.c: (Ditto.)
	* libc/stdlib/atoi.S: (Ditto.)
	* libc/stdlib/atol.S: (Ditto.)
	* libc/string/ffs.S: (Ditto.)
	* libc/string/ffsl.S: (Ditto.)
	* libc/string/ffsll.S: (Ditto.)
	* libc/string/memccpy.S: (Ditto.)
	* libc/string/memchr.S: (Ditto.)
	* libc/string/memcmp.S: (Ditto.)
	* libc/string/memcpy.S: (Ditto.)
	* libc/string/memmove.S: (Ditto.)
	* libc/string/memset.S: (Ditto.)
	* libc/string/strcasecmp.S: (Ditto.)
	* libc/string/strcat.S: (Ditto.)
	* libc/string/strchr.S: (Ditto.)
	* libc/string/strcmp.S: (Ditto.)
	* libc/string/strcpy.S: (Ditto.)
	* libc/string/strlcat.S: (Ditto.)
	* libc/string/strlcpy.S: (Ditto.)
	* libc/string/strlen.S: (Ditto.)
	* libc/string/strlwr.S: (Ditto.)
	* libc/string/strncasecmp.S: (Ditto.)
	* libc/string/strncat.S: (Ditto.)
	* libc/string/strncmp.S: (Ditto.)
	* libc/string/strncpy.S: (Ditto.)
	* libc/string/strnlen.S: (Ditto.)
	* libc/string/strrchr.S: (Ditto.)
	* libc/string/strrev.S: (Ditto.)
	* libc/string/strsep.S: (Ditto.)
	* libc/string/strstr.S: (Ditto.)
	* libc/string/strtok_r.S: (Ditto.)
	* libc/string/strupr.S: (Ditto.)
	* doc/api/dox_html_header: Include reference to alphabetical
	globals list, collected from all files that have \file.
	* doc/api/dox.css: Update for doxygen version 1.4.7.

2007-01-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Various documentation fixes.
	* xml/patch-headers.py: Update for new devices.
	* doc/api/vectortable.dox: Regenerate from patch-headers.py.
	Closes bug #18686: AT90USB**** devices are absent in
	interrupt-verctor-names table
	* include/stdlib.h: Fix doxygen generation for dtostr*()
	functions.
	Closes bug #18726: the dtostrf function description is missing
	in AVR-Libc's webpage
	* doc/api/faq.dox: Resolve some doxygen warnings.
	* doc/examples/asmdemo/asmdemo.dox: (Ditto.)
	* doc/examples/demo/demo.dox: (Ditto.)

2007-01-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Cosmetic/white space change only:
	* include/avr/iocanxx.h: Regenerate vector table from script.
	* include/avr/iom406.h: (Ditto.)
	* include/avr/iomxx4.h: (Ditto.)
	* include/avr/iotn2313.h: (Ditto.)
	* include/avr/iousbxx6_7.h: (Ditto.)

2007-01-23 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* LICENSE: Update copyright year.
	* doc/api/main_page.dox: Include copyright notice into
	documentation.

2007-01-21 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/avr/iomxx4.h: Clarify a confusing comment that all the
	picopower devices covered by this file feature a second USART.

2007-01-19 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/examples/largedemo/largedemo.c: Port the "largedemo" to
	the ATtiny2313.
	* doc/examples/largedemo/largedemo.dox: Describe the ATtiny2313
	port.
	* doc/examples/largedemo/Makefile: Add a MCU_TARGET hint for
	the ATtiny2313.

2007-01-18 Anatoly Sokolov <aesok@post.ru>

	* common/macros.inc (__AVR_HAVE_MUL__): Define.
	* libc/misc/mul10.S (__mulhi_const_10): Use __AVR_HAVE_MUL__ instead
	of __AVR_ENHANCED__.

2007-01-14 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: Add tests for the AT90PWM1 support.
	* devtools/gen-avr-lib-tree.sh: Add support for AT90PWM1 device.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/io90pwm1.h: new file.
	* include/avr/Makefile.am: include new file.
	* doc/api/main_page.dox: Document support for AT90PWM1 device.
	* doc/api/using-tools.dox: (Ditto.)

2007-01-14 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Submitted by Robert Schiele:
	* include/stdint.h: Exclude 64-bit types when -mint8 is in effect.
	* include/avr/pgmspace.h: (Ditto.)

2007-01-08 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/avr/boot.h (boot_lock_bits_set): Fix a typo: BLB11 needs
	to be programmed (rather than BLB12) in order to prevent the
	application from overwriting the boot loader section.
	Closes bug #18115: online documentation typo/bug avr/boot.h

2007-01-08 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/stdio.h: Document that malloc() is no longer needed for
	floating-point conversions as it once used to be.
	Closes bug #18688: vfscanf and vfprintf don't use malloc

2007-01-08 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix broken seeding of the PRNGs when seeding with 0.
	This fix is courtesy Andrew Chernov from the FreeBSD
	project (rev. 1.21 of their random.c).
	* libc/stdlib/random.c (do_random): seed with another (arbitrary) value
	when attempting to seed with 0.
	* libc/stdlib/rand.c (do_rand): (Ditto.)
	Closes bug #18662: rand() keeps returning the same value if seeded with 0

2007-01-01 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix breakage for strtod() on avr6 architectures caused
	by calling __prologue_saves__.
	Fixes bug #18509: strtod.S crashes due to stack problem with atmega
	2560
	* libm/fplib/strtod.S: pop and restore EIND from the stack before
	calling __prologue_saves__ on 3-byte PC AVR architectures.
	* include/avr/io.h: Provide a value for EIND when compiling the
	library for an avr6 architecture.
	* include/avr/iomxx0_1.h: Protect the EIND definition from appearing
	twice in while compiling the library for an avr6 architecture.

For older changes see ChangeLog-2006
