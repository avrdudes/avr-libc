2005-08-13 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* scripts/Makefile.am: Depend our manually derived targets from
	$(top_srcdir)/stamp-h1 so they will get reevaluated after
	re-running configure.
	* doc/api/Makefile.am: (Ditto)

2005-08-13 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* configure.ac: Re-enable building of docs.
	* doc/api/Makefile.am: manually derive doxygen.config from
	doxygen.config.in as this is no longer automagic; do no longer
	try to build the demos as port of the documentation.

2005-08-11 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Merge the "autoconf" branch back to HEAD, so we can use
	current versions of autoconf and automake.

	Thanks to Ted Roth and Anatoly Sokolov for their nice work
	on that branch.

	All copyright notices from the branch files have been brought
	into the standard form.

	Changes compared to the "autoconf" branch:
	* configure.ac (AC_INIT): bump version to 1.3.0.20050810
	* configure.ac (AC_CONFIG_SRCDIR): use doc/examples/demo/demo.c
	as reference file
	* configure.ac: use $host_alias and $build_alias instead of the
	deprecated $host and $build, hint about using config.guess for
	--build, add checks and conditional rules for attiny13,
	attiny2313, atmega48, atmega88, atmega165, atmega168, atmega325,
	atmega3250, atmega645, atmega6450, at90can128; remove warning
	about being work in progress.
	* AvrCommonLibC.am (libc_a_LIBADD libc_a_DEPENDENCIES): add
	misc_a_libadd (for the EEPROM libraries)
	* include/compat/.cvsignore: New file
	* scripts/.cvsignore: (Ditto.)
	* include/compat/Makefile.am: (Ditto.)
	* scripts/Makefile.am: (Ditto.)
	* Makefile.am (EXTRA_DIST): add ChangeLog-2004
	* Makefile.am (SUBDIRS DIST_SUBDIRS): add "scripts"
	* doc/Makefile.am (EXTRA_DIST): remove avr-libc-reference.html
	* doc/api/Makefile.am (install-data-local): add INSTALL_DOX_MAN
	* doc/examples/Makefile.am (EXTRA_DIST): add all-demos.dox,
	remove the obsolete demos doc/examples/*.[cs]
	* include/avr/Makefile.am (avr_HEADERS): remove ina90.h and twi.h,
	add iom165.h, iom325.h, iom3250.h, iom645.h, iom6450.h
	* include/Makefile.am (avr_HEADERS): add stdint.h
	* include/Makefile.am (SUBDIRS): add compat
	* libc/misc/Files.am (misc_a_asm_sources): remove EEPROM files
	* libc/misc/Files.am (eeprom_asm_sources): add EEPROM files
	* libc/misc/Rules.am: add logic to build two different sets of
	EEPROM functions (suffix 1C1D1E and suffix 1F2021)
	* libc/pmstring/Files.am (pmstring_a_asm_sources): add strnlen_P.S
	* libc/stdio/Rules.am (PRINTF_CFLAGS): change from -O1 to -Os
	* libc/stdlib/Files.am (stdlib_a_c_sources): add realloc.c,
	stdlib_private.h
	* INSTALL, doc/INSTALL, doc/api/tools-install.dox: remove all
	references to the old scripts (reconf, doconf, domake), update
	build instructions.

	Here are the original ChangeLog entries from the branch (in
	reverse chronological order):

	* devtools/gen-avr-lib-tree.sh: use the Posix-portable printf
	instead of the GNU-only echo -n -e command.
	* bootstrap: logic in bootstrap to detect auto* versions is changed.
	* devtools/gen-avr-lib-tree.sh (AVR12_DEV_INFO, AVR3_DEV_INFO,
	AVR4_DEV_INFO, AVR5_DEV_INFO, AVR_ARH_INFO) : Remove semicolon
	after last record.
	* AvrCommon.am: change to compile per-architecture libs
	* AvrCommonLibC.am: (Ditto.)
	* configure.ac: (Ditto.)
	* devtools/gen-avr-lib-tree.sh: (Ditto.)
	* bootstrap: Update to work with automake 1.9 and autoconf 2.59
	* include/avr/io.h: Do not generate an error if the device type is not
	defined and if defined __COMPILING_AVR_LIBC__.
	* common/macros.inc: multiple-include protect.
	* AvrCommonLibC.am (nodist_libc_a_SOURCES): Add libm.a sources to
	libc.a so that float point libs are available even if the end user
	forgets to use the -lm to link to the math lib.
	* AvrCommonLibC.am (nodist_libc_a_SOURCES): Revert addition of libm.a
	C and asm sources. I forget this change was in my tree when I made the
	previous change to this file. Will reapply it separately.
	* .cvsignore: Update to reflect current reality.
	* common/.cvsignore: New file.
	* doc/examples/.cvsignore: New file.
	* include/.cvsignore: New file.
	* include/avr/.cvsignore: New file.
	* libc/stdio/.cvsignore: New file.
	* configure.ac (AC_INIT): Bump version.
	* AvrCommonLibC.am (nodist_libc_a_SOURCES): Add stubs to trivialize
	adding C source files to currently asm only lib source dirs.
	* libc/misc/Files.am (misc_a_c_sources): Define.
	* libc/pmstring/Files.am (pmstring_a_c_sources): Define.
	* libc/string/Files.am (string_a_c_sources): Define.
	* libm/fplib/Files.am (libm_a_c_sources): Define.
	* devtools/gen-avr-lib-tree.sh: Set CFLAGS for all devices.
	Stub out DEV_DEFS and DEV_ASFLAGS.
	Remove un-needed CONF_FRAG.
	* configure.ac (AC_INIT): Bump version.
	* devtools/gen-avr-lib-tree.sh: Improve portability by eliminating the
	use of '<<-EOF' and 'mkdir -p'.
	Move all the generated copyright headers into a tmp file so only one
	copy will need to be maintained.
	* configure.ac (AC_INIT): Bump version.
	* devtools/gen-avr-lib-tree.sh: Use /bin/sh instead of /bin/bash in the
	she-bang.
	* AvrCommon.am (AVRLIB_CFLAGS): Add -mmcu option.
	* AvrCommonLibC.am (avr_LIBRARIES): Don't build the intermediate
	libraries, just build libc.a directly.
	* configure.ac (CFLAGS): Set to nothing to override any that the env
	sets and to suppress the default "-g -O2".
	Don't set the AVR_CRT_* variables since they are no longer used.
	* include/avr/io.h: Generate an error if the device type is not
	defined.
	* libc/misc/Rules.am: Remove unneeded rules and variables.
	* libc/pmstring/Rules.am: Ditto.
	* libc/stdio/Rules.am: Ditto.
	* libc/stdlib/Rules.am: Ditto.
	* libc/string/Rules.am: Ditto.
	* libm/fplib/Rules.am: Ditto.
	* libc/stdlib/Files.am: Add ctype source files.
	* libc/stdlib/cty_isfalse.S: New file.
	* libc/stdlib/isalnum.S: New file.
	* libc/stdlib/isalpha.S: New file.
	* libc/stdlib/isascii.S: New file.
	* libc/stdlib/isblank.S: New file.
	* libc/stdlib/iscntrl.S: New file.
	* libc/stdlib/isdigit.S: New file.
	* libc/stdlib/isprint.S: New file.
	* libc/stdlib/ispunct.S: New file.
	* libc/stdlib/isspace.S: New file.
	* libc/stdlib/isxdigit.S: New file.
	* libc/stdlib/toascii.S: New file.
	* libc/stdlib/tolower.S: New file.
	* libc/stdlib/toupper.S: New file.
	* AvrCommon.am (VPATH): Add fplib to search path.
	* AvrCommonLibC.am: Enable building of libm.
	* configure.ac: Set DOCSDIR so it gets substituted in Makefile.am
	files.
	* libm/Makefile.am: Rewrite.
	* libm/fplib/Files.am: New file.
	* libm/fplib/Makefile.am: Rewrite.
	* libm/fplib/Rules.am: New file.
	* libm/fplib/fplib.inc: Don't redefine __OPTIMIZE__. Gcc-3.4 seems to
	define it.
	* libm/fplib/strtod.S: Don't read in SPH if it's not defined for the
	target device.
	* configure.ac (AC_INIT): Bump version.
	* AvrCommonLibC.am: Enable building of libc/ files.
	* common/Makefile.am: New file.
	* libc/misc/Files.am: New file.
	* libc/misc/Makefile.am: Rewrite.
	* libc/misc/Rules.am: New file.
	* libc/misc/eeprom.S: Conditional compile only if E2END > 0.
	* libc/pmstring/Rules.am: New file.
	* libc/stdio/Files.am: New file.
	* libc/stdio/Makefile.am: Rewrite.
	* libc/stdio/Rules.am: New file.
	* libc/string/Files.am: New file.
	* libc/string/Makefile.am: Rewrite.
	* libc/string/Rules.am: New file.
	* AvrCommon.am: Split C library macros off into AvrCommonLibC.am.
	* AvrCommonLibC.am: New file.
	* devtools/gen-avr-lib-tree.sh: Don't include AvrCommonLibC.am for
	targets that don't support C programming.
	* libc/Makefile.am: Rewrite.
	* libc/pmstring/Files.am: New file.
	* libc/pmstring/Makefile.am: Rewrite.
	* libc/pmstring/Rules.am: New file.
	* libc/stdlib/Files.am: New file.
	* libc/stdlib/Makefile.am: Rewrite.
	* libc/stdlib/Rules.am: New file.
	* AvrCommon.am (__install_dir): Use prefix instead of exec_prefix.
	* crt1/Makefile.am: Complete rewrite. Not much is needed anymore.
	* include/Makefile.am: Replace EXTRA_DIST with avr_HEADERS so that
	the headers are installed.
	* include/avr/Makefile.am: Ditto.
	* AvrCommon.am: New file.
	* configure.ac: Add tool check for AS.
	Move new devices to separate AC_CONFIG_FILES section.
	* devtools/gen-avr-lib-tree.sh: Look for AvrCommon.am at top level only
	instead of in avr/lib/.
	Split out new devices to avoid compile failures with older tool chain.
	* Makefile.am: Scrap old version and rewrite.
	* bootstrap: Add temp hook to run gen-avr-lib-tree.sh.
	* configure.ac: Bump version.
	Check for avr cross-compiler.
	Add AC_CONFIG_FILES section for target device dirs in avr/lib/.
	* devtools/gen-avr-lib-tree.sh: New file.
	* include/Makefile.am: Add SUBDIRS.
	* bootstrap: Remove left-over autom4te.cache directory.
	* configure.ac: New file.
	* libc/stdlib/Makefile.am (libc_ctype_asm_objs): Fix a comment typo.
	* Makefile.am (EXTRA_DIST): Remove references to deleted files.
	Add bootstrap.
	* bootstrap: New file.
	* include/Makefile.am: New file.
	* include/avr/Makefile.am: New file.
	* config-ml.in: Remove file for autoconf/automake rewrite.
	* config.sub: Ditto.
	* configure.in: Ditto.
	* doconf: Ditto.
	* dodist: Ditto.
	* domake: Ditto.
	* reconf: Ditto.

2005-08-05 Anatoly Sokolov <aesok@pautinka.net>

	* libc/stdio/fgetc.c (fgetc) : Prevent movement of the pointer 
	over the end of a string.
	[Fixed bug #12775]

2005-08-03 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* INSTALL: emphasize that users ought to use ./doconf.

2005-07-31 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	(Contributed by Chris Candreva <chris at westnet dot com>)
	* doc/api/sfr.dox: document replacements for sbi/cbi.

	(Contributed by Bjarne Laursen <bl at rosetechnology dot dk>)
	* libm/fplib/strtod.S: fix endptr bug (bug#12646, patch#4137).

2005-07-31 Bjoern Haase <bjoern.m.haase@web.de>

	* include/avr/eeprom.h: re-write of all functions
	and documentation update. EEMEM, add.
	* include/avr/iocan128.h: __EEPROM_REG_LOCATIONS__ define
	* include/avr/iom165.h, include/avr/iom169.h: Ditto.
	* include/avr/iom325.h, include/avr/iom3250.h: Ditto.
	* include/avr/iom645.h, include/avr/iom6450.h: Ditto.
	* include/avr/iomx8.h: Ditto.
	* libc/misc/Makefile.am:
	lib_a_asm_sources modify, eeprom_asm_sources add,
	lib_a_LIBADD add, lib_a_DEPENDENCIES add
	rule "%.1C1D1E.o: %.S" add, rule "%.1F2021.o: %.S" add
	* libc/misc/eeprom.S: complete re-write
	* AUTHORS: add Bjoern Haase
	* LICENSE: (Ditto.)

2005-07-29 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/avr/boot.h: Implement boot_lock_fuse_bits_get()
	plus some macros for the respective address values.

2005-07-28 Anatoly Sokolov <aesok@pautinka.net>

	* include/avr/iom16.h: Add comment about ADHSM bit.
	* include/avr/iocan128.h (ADHSM): Deleted. 
	Add comment about ADHSM bit.
	* include/avr/iom128.h (ADHSM): (Ditto.)
	* include/avr/iom64.h (ADHSM): (Ditto.)
	* include/avr/iom8.h (ADHSM): (Ditto.)
	* include/avr/iom8535.h (ADHSM): (Ditto.)
	[Fixed bug #13341]

2005-07-21  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/api/doxygen.config.in: Turn PDF hyperlinks off by default;
	the presence of this option causes the new (pdfelatex-based)
	LaTeX to turn from DVI to PDF generation.
	* doc/api/Makefile.am: Enable PDF hyperlinks for the PDF version.
	Modify the patchomania to properly include longtable (so it works
	with recent doxygen versions).

2005-07-19 Anatoly Sokolov <aesok@pautinka.net>

	* Add Anatoly Sokolov to the license file. 

2005-07-19 Anatoly Sokolov <aesok@pautinka.net>

	* include/avr/wdt.h : Add support for ATmega165, ATmega325, 
	ATmega3250, ATmega645, ATmega6450.
	[Fixed bug #13678]

2005-07-09 Anatoly Sokolov <aesok@pautinka.net>

	* include/avr/io.h [__COMPILING_AVR_LIBC__] (EECR, EEDR, 
	EEAR, EEARL, EEARH, EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io43u32x.h : Mark SFR [0x1C..0x1F] as reserved.
	* include/avr/io43u35x.h : (Ditto.)
	* include/avr/io1200.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io2313.h (EECR, EEDR, EEAR, EEARL,
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io2323.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io2333.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io2343.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io4414.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io4433.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io4434.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io8515.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io8534.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/io8535.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iocan128.h (EECR, EEDR, EEAR, EEARL, EEARH) : Define.
	* include/avr/iom8.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom16.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom32.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom64.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom103.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom128.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom161.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom162.h (EECR, EEDR, EEAR, EEARL, EEARH) : Define.
	* include/avr/iom163.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom165.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom169.h (EECR, EEDR, EEAR, EEARL, EEARH) : Define.
	* include/avr/iom323.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom325.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom645.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom3250.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom6450.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom8515.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iom8535.h (EECR, EEDR, EEAR, EEARL, EEARH, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iomx8.h (EECR, EEDR, EEAR, EEARL, EEARH) : Define.
	* include/avr/iotn12.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iotn13.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMPE, EEPE, EERE) : Define.
	* include/avr/iotn15.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iotn22.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iotn26.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMWE, EEWE, EERE) : Define.
	* include/avr/iotn28.h (EERIE, EEMWE, EEWE, EERE) : Delete.
	* include/avr/iotn2313.h (EECR, EEDR, EEAR, EEARL, 
	EERIE, EEMPE, EEPE, EERE) : Define.
	[Fixed bug #13290]

2005-06-26  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* common/gasava.inc: Fix include ordering (bug #12033).
	* libc/stdlib/ctype.S: Ditto.
	* libm/fplib/acos.S: Ditto.
	* libm/fplib/addsf3.S: Ditto.
	* libm/fplib/addsf3x.S: Ditto.
	* libm/fplib/asin.S: Ditto.
	* libm/fplib/atan.S: Ditto.
	* libm/fplib/ceil.S: Ditto.
	* libm/fplib/cos.S: Ditto.
	* libm/fplib/cosh.S: Ditto.
	* libm/fplib/divsf3.S: Ditto.
	* libm/fplib/divsf3x.S: Ditto.
	* libm/fplib/dtostre.S: Ditto.
	* libm/fplib/exp.S: Ditto.
	* libm/fplib/fixsfsi.S: Ditto.
	* libm/fplib/floatsisf.S: Ditto.
	* libm/fplib/floor.S: Ditto.
	* libm/fplib/fmod.S: Ditto.
	* libm/fplib/fp_cmp.S: Ditto.
	* libm/fplib/fp_cosinus.S: Ditto.
	* libm/fplib/fp_flashconst.S: Ditto.
	* libm/fplib/fp_merge.S: Ditto.
	* libm/fplib/fp_nan.S: Ditto.
	* libm/fplib/fp_powerseries.S: Ditto.
	* libm/fplib/fp_split.S: Ditto.
	* libm/fplib/fp_zero.S: Ditto.
	* libm/fplib/fplib.inc: Ditto.
	* libm/fplib/frexp.S: Ditto.
	* libm/fplib/isinfnan.S: Ditto.
	* libm/fplib/ldexp.S: Ditto.
	* libm/fplib/log.S: Ditto.
	* libm/fplib/log10.S: Ditto.
	* libm/fplib/modf.S: Ditto.
	* libm/fplib/mulsf3.S: Ditto.
	* libm/fplib/mulsf3x.S: Ditto.
	* libm/fplib/negsf2.S: Ditto.
	* libm/fplib/pow.S: Ditto.
	* libm/fplib/sin.S: Ditto.
	* libm/fplib/sinh.S: Ditto.
	* libm/fplib/sqrt.S: Ditto.
	* libm/fplib/strtod.S: Ditto.
	* libm/fplib/tan.S: Ditto.
	* libm/fplib/tanh.S: Ditto.

2005-06-28 Anatoly Sokolov <aesok@pautinka.net>

	* include/avr/io2333.h [!__ASSEMBLER__] (ADC): Define.
	* include/avr/io43u35x.h (ADCW): Define.
	* include/avr/io4433.h [!__ASSEMBLER__] (ADC): Define.
	* include/avr/io4434.h [!__ASSEMBLER__] (ADC): Define.
	* include/avr/io8534.h [!__ASSEMBLER__] (ADC): Define.
	* include/avr/io8535.h [!__ASSEMBLER__] (ADC): Define.
	* include/avr/iocan128.h (ADCW): Define.
	* include/avr/iom103.h [!__ASSEMBLER__] (ADC): Define.
	* include/avr/iom16.h [!__ASSEMBLER__] (ADC): Define.
	(ADCW): Define.
	* include/avr/iom163.h [!__ASSEMBLER__] (ADC): Define.
	* include/avr/iom165.h [!__ASSEMBLER__] (ADC): Define.
	(ADCW): Define.
	* include/avr/iom169.h (ADCW): Define.
	* include/avr/iom323.h [!__ASSEMBLER__] (ADC): Define.
	* include/avr/iom325.h [!__ASSEMBLER__] (ADC): Define.
	(ADCW): Define.
	* include/avr/iom3250.h [!__ASSEMBLER__] (ADC): Define.
	(ADCW): Define.
	* include/avr/iom645.h [!__ASSEMBLER__] (ADC): Define.
	(ADCW): Define.
	* include/avr/iom6450.h [!__ASSEMBLER__] (ADC): Define.
	(ADCW): Define.
	* include/avr/iotn15.h [!__ASSEMBLER__] (ADC): Define.
	[Fixes bug #12134]

2005-06-26  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* crt1/gcrt1.S: Defer the initialization of __stack so the
	linker could actually update this weak symbol (works around
	a bug in gas).

2005-06-26 Anatoly Sokolov <aesok@pautinka.net>

    * include/avr/interrupt.h: Exclude redefinition __EICR.
    [Fixes bug #12993]
    * NEWS: Update bugs fixed list.
    Fix wrong bug number.

2005-06-25 Anatoly Sokolov <aesok@pautinka.net>

    * include/avr/iom169.h: Change SIG_COMPERATOR to SIG_COMPARATOR.
    * include/avr/iotn26.h: Change SIG_EPROM_READY to SIG_EEPROM_READY.
    [Fixes bug #12955]
    * NEWS: Update bugs fixed list.
    * include/avr/io.h: No undef EERIE if defined SIG_EE_READY

2005-06-24 Anatoly Sokolov <aesok@pautinka.net>

    * include/avr/iom325.h: Fix bit definition for UCSZ02.
    * include/avr/iom3250.h: ( Ditto. )
    * include/avr/iom645.h: ( Ditto. )
    * include/avr/iom6450.h: ( Ditto. )
    [Fixes bug #13327]
    * NEWS: Update bugs fixed list.

2005-06-07  Eric B. Weddington  <ericw@evcohs.com>

    * include/math.h: Fix documenation for log10() function in math.h.
    [Fixed bug #12785]
    * NEWS: Update bugs fixed list.

2005-06-07  Eric B. Weddington  <ericw@evcohs.com>

    * include/avr/iocan128.h: Fix bit definition for SJW0.
    [Fixes bug #12448]
    * NEWS: Update bugs fixed list.

2005-06-07  Eric B. Weddington  <ericw@evcohs.com>

    * include/avr/iom169.h: Add new bit definitions for LCDCCR register.
    [Fixes bug #12422]
    * NEWS: Update bugs fixed list.

2005-04-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/examples/demo/demo.c: update for ATmega16.

2005-02-14  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/api/faq.dox: sbi() has been removed, document standard
	C bit operators instead (fixes savannah bug #12040); mention
	that external RAM initialization as a C function would
	preferrably go into .init3 where __zero_reg__ has already
	been initialized.

	* doc/api/sections.dox: mention that .init2 also clears
	__zero_reg__, remove old outp() macro usage in example code.

2005-02-14  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* libc/stdio/vfscanf.c: fix field width accounting for leading
	signs and/or 0/0x prefixes.  Fixes bug #11987.

2005-02-08  Eric B. Weddington  <ericw@evcohs.com>

    * libc/stdio/Makefile.am: Change optimisation level for building
    printf libraries to -Os.
    [Fixes bug #11898]
    * NEWS: Update bugs fixed list.

2005-02-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* libc/stdlib/realloc.c: fix bug #11868.
	Fix submitted by Peter Fuhrmann <tixiv at gmx dot net>

2005-02-07  Eric B. Weddington  <ericw@evcohs.com>

    * doc/api/main_page.dox: Remove the untested label on devices list.

2005-02-07  Eric B. Weddington  <ericw@evcohs.com>

    * doc/examples/twitest/twitest.c: Replace SYSCLK with F_CPU.
    [Fixes bug #11817]
    * NEWS: Update bugs fixed list.

2005-02-01  Eric B. Weddington  <ericw@evcohs.com>

    * libm/fplib/sin.S: Fix call to __fp_cosinus.
    [Fixes bug #11805]
    * NEWS: Update bugs fixed list.

2005-01-27  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/examples/Makefile.am (EXTRA_DIST): add all-demos.dox.

2005-01-25  Eric B. Weddington  <ericw@evcohs.com>

    * doc/examples/progmem.c: Update to use the latest API.
    [Fixes bug #11732]
    * NEWS: Update bugs fixed list.

2005-01-24  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* libc/stdlib/strtol.c: Dmitry Xmelkov's fixes and speedups
	for strtol and strtoul (check base against legal values,
	correctly report ERANGE on under-/overflow, avoid costly
	division for common base values, parse string "0x" correctly
	as 0 with returning the "x" as final string); bugfix for
	savannah bug  #11494, and savannah patch #3618.
	* libc/stdlib/strtoul.c: Ditto.
	* AUTHORS: Mention Dmitry Xmelkov for his contribution.

2005-01-24  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/api/acknowledge.dox: Mention Ted Roth, fix Eric's
	email address.
	* doc/api/tools-install.dox: Remove all explicit version
	numbers, recommend the latest released version instead.
	* doc/api/faq.dox: minor cleanup to the ROM string example.

2005-01-23  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* libc/stdlib/realloc.c: Do not mess with "nx" pointers for
	the current entry as it is not really of struct __freelist.
	Fixes savannah bug #11684.

2005-01-18  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Implement savannah patch #3516: %S format for printf().
	* AUTHORS: Mention Helmut Wallner for his contribution.
	* include/stdio.h: Document the new %S format.
	* include/avr/pgmspace.h: Prototype for new strnlen_P() function.
	* libc/pmstring/Makefile.am: Include strnlen_P.S.
	* libc/stdio/vfprintf.c: Add implementation for %S.

2005-01-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/setjmp.h: Document that longjmp() might destroy global
	register variables; see savannah bug #4101.

2005-01-13  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/avr/eeprom.h: Document all devices that are not supported
	by the library routines; add a #warning as well.

2005-01-12  Eric B. Weddington  <ericw@evcohs.com>

    * LICENSE: Update copyright year.

2005-01-10  Eric B. Weddington  <ericw@evcohs.com>

    * include/avr/wdt.h: Rewrite wdt_disable() to match datasheet algorithm.
    [Fix for bug #11522]
    * NEWS: Update bugs fixed list.

2005-01-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* libm/fplib/ldexp.S: remove jump to itself.
	* libm/fplib/ceil.S: translate German comments, drop IBM437 chars.

2005-01-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* libm/fplib/addsf3.S: Make labels local, add Id line.
	* libm/fplib/addsf3x.S: (Ditto.)
	* libm/fplib/asin.S: (Ditto.)
	* libm/fplib/ceil.S: (Ditto.)
	* libm/fplib/cos.S: (Ditto.)
	* libm/fplib/cosh.S: (Ditto.)
	* libm/fplib/divsf3.S: (Ditto.)
	* libm/fplib/divsf3x.S: (Ditto.)
	* libm/fplib/exp.S: (Ditto.)
	* libm/fplib/fixsfsi.S: (Ditto.)
	* libm/fplib/floatsisf.S: (Ditto.)
	* libm/fplib/floor.S: (Ditto.)
	* libm/fplib/fp_cmp.S: (Ditto.)
	* libm/fplib/fp_cosinus.S: (Ditto.)
	* libm/fplib/fp_flashconst.S: (Ditto.)
	* libm/fplib/fp_merge.S: (Ditto.)
	* libm/fplib/fp_nan.S: (Ditto.)
	* libm/fplib/fp_powerseries.S: (Ditto.)
	* libm/fplib/fp_split.S: (Ditto.)
	* libm/fplib/fp_zero.S: (Ditto.)
	* libm/fplib/frexp.S: (Ditto.)
	* libm/fplib/ldexp.S: (Ditto.)
	* libm/fplib/log.S: (Ditto.)
	* libm/fplib/log10.S: (Ditto.)
	* libm/fplib/modf.S: (Ditto.)
	* libm/fplib/mulsf3.S: (Ditto.)
	* libm/fplib/mulsf3x.S: (Ditto.)
	* libm/fplib/negsf2.S: (Ditto.)
	* libm/fplib/pow.S: (Ditto.)
	* libm/fplib/sin.S: (Ditto.)
	* libm/fplib/sinh.S: (Ditto.)
	* libm/fplib/sqrt.S: (Ditto.)
	* libm/fplib/strtod.S: (Ditto.)
	* libm/fplib/tan.S: (Ditto.)
	* libm/fplib/tanh.S: (Ditto.)

2005-01-07  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* libm/fplib/asin.S: prefix internal global symbols
	with "__fp_".
	* libm/fplib/atan.S: (Ditto.)
	* libm/fplib/cos.S: (Ditto.)
	* libm/fplib/cosh.S: (Ditto.)
	* libm/fplib/divsf3.S: (Ditto.)
	* libm/fplib/exp.S: (Ditto.)
	* libm/fplib/fp_cosinus.S: (Ditto.)
	* libm/fplib/fp_flashconst.S: (Ditto.)
	* libm/fplib/fp_powerseries.S: (Ditto.)
	* libm/fplib/log.S: (Ditto.)
	* libm/fplib/sinh.S: (Ditto.)
	* libm/fplib/strtod.S: (Ditto.)
	* libm/fplib/tan.S: (Ditto.)

2005-01-07  Eric B. Weddington  <ericw@evcohs.com>

    * include/avr/sfr_defs.h: Remove doxygen comment about the deprecated 
    inp/outp items.
    [Fix for bug #11505]
    * NEWS: Update bugs fixed list.

2005-01-06  Eric B. Weddington  <ericw@evcohs.com>

    * include/avr/iom16.h: Put the port bit defintions back in for mega16.
    [Fix for bug #11486]
    * include/avr/iom16.h: Remove Windows line endings.

2005-01-06  Eric B. Weddington  <ericw@evcohs.com>

    * include/avr/wdt.h: Abstract the change enable bit for the mega32.
    [Fix for bug #11510]

2005-01-03  Eric B. Weddington  <ericw@evcohs.com>

    * include/avr/iotn26.h: Add missing pin definitions.
    [Fix for bug #11479]

2005-01-03  Eric B. Weddington  <ericw@evcohs.com>

    * include/avr/iotn26.h: Get rid of Windows line endings.

2005-01-01  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* Makefile.am (install-data-local uninstall-local):
	Do also install .../include/compat.  While being here, repair
	uninstalling the entire world as well.

For older changes see ChangeLog-2004
